@model Generalate.Models.tbl_Jubilee

@{
    ViewBag.Title = "Homeuser";
    Layout = "~/Views/UserModule/_LayoutUser.cshtml";
}

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.JubileeID, new { htmlAttributes = new { @class = "form-control" } })


    <div class="form-horizontal">

        <div class="" style="margin-left:30px; margin-right:30px;">
            <div class="form-horizontal">
                <div class="panel-group">
                    <div class="panel panel-primary" style="margin-top:10px; background-color:#F4ECF7; height:700px;">
                        <div class="tab panel-heading">
                            <a style="color:white;">Jubilee</a>
                        </div>

                        <div class="" style="margin-left:20px; margin-right:20px;">
                            <div class="form-horizontal">
                                <br />

                                <div class="row">

                                    <div class="col-sm-4">
                                        <div style="margin-top:100px; margin-left:150px;">
                                            <h4>First Profession</h4>
                                            <table class="table table-striped  table-hover" id="jublieetbl" style="border:solid; border-color:#641E16; lin;">
                                                <thead>
                                                    <tr style="background-color:#641E16; color:white; height:20px;">
                                                        <th hidden="hidden"> Id </th>
                                                        <th> Member ID </th>
                                                        <th> Name </th>
                                                    </tr>
                                                </thead>
                                                <tbody class="tbody"> </tbody>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="col-sm-2" style="margin-top:80px; margin-left:70px;">
                                        <div style="margin-bottom:30px; color:brown; margin-left:20px;">
                                            <h2>
                                                Jubilarians
                                            </h2>
                                        </div>
                                        <img src="" id="img1" class="img-thumbnail">

                                    </div>

                                    <div class="col-sm-4" style="margin-top:10px; margin-left:10px; margin-right:100px;">
                                        <div style="text-align:end;">
                                            <img src="~/Images/bg2.png" height="550" width="550" />
                                        </div>
                                    </div>

                                    @*<div class="col-sm-3">
                                            <h4>Final Profession</h4>
                                            <table class="table table-striped  table-hover" id="jublieetbl" style="border:solid; border-color:#044244">
                                                <thead>
                                                    <tr style="background-color:#044244; color:white">
                                                        <th hidden="hidden"> Id </th>
                                                        <th> Member ID </th>
                                                        <th> Name </th>
                                                    </tr>
                                                </thead>
                                                <tbody class="tbody"> </tbody>
                                            </table>
                                        </div>*@

                                </div>

                            </div>
                        </div>


                    </div>

                </div>
            </div>
        </div>
    </div>



}


<script type="text/javascript">
    $(document).ready(function () {
        

        $.getJSON("GetAll", function (json) {
            var tr;
            $("#jublieetbl").find('tbody').empty(); //add this line


            for (var i = 0; i < json.length; i++) {
                tr = $('<tr />');
                tr.append("<td hidden='hidden'>" + json[i].JubileeID + "</td>");
                tr.append('<td><a href="#" onclick="DispImg(\'' + json[i].MemberID + '\')">' + json[i].MemberID + '</a>')
                tr.append("<td>" + json[i].Name + "</td>");

                $('table').append(tr);

            }

            $('#jublieetbl').DataTable();
        });

        $('#jublieetbl').DataTable({
            "paging": false,
            "ordering": false,
            "info": false,
            "bFilter": false,
            "bLengthChange": false,
            "bPaginate": false,
            "bSort": false,
            "bInfo": false,
            "oLanguage": { "sZeroRecords": "", "sEmptyTable": "" }

        });




        //$('#printbtn').click(function () {
        //    window.open('../Jubilee/JubileeReport');
        //});

    });

    function DispImg(MemberID)
    {
        
        document.getElementById("img1").src = "http://localhost:8087/Images/" + MemberID + ".jpg";
       //document.getElementById("img1").src = "http://localhost/Generalate/Images/" + MemberID + ".jpg";
    }
</script>

