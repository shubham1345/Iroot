@using Generalate.Controllers;
@{
    ViewBag.Title = "DataItem2";
}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link href="~/css/DropDownSelect2/dist/css/select2.min.css" rel="stylesheet" />
<style>
    .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
        color: white;
        background-color: #29b2e1;
        border: 1px solid #dddddd;
        border-bottom-color: transparent;
        cursor: default;
    }
</style>
<ul class="breadcrumb" style="margin-top:80px;">
    <li class="pull-right"><a style="font-size: 25px; color:#2a6496;" class="fa fa-chevron-circle-left" href="/HomeUser/HomeUser"></a></li>
</ul>
@{
    var tabPermissions = Session["tabPermissionList"] as List<Generalate.Models.TabPermissions>;
}
<div class="page-content-wrap">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12 jss_c">
                                <ul class="nav nav-tabs" id="myTab">
                                    @{
                                        var isPermissionAppointmentView = tabPermissions.FirstOrDefault(x => x.TabName == "AppointmentView");
                                        if (isPermissionAppointmentView != null)
                                        {
                                            <li class="active"><a data-toggle="tab" href="#dataitemappointment" class="sis_tab_a click"><span>@{@HomeController.GetControlTextByControlId("Appointment");}</span></a></li>

                                        }
                                        var isPermissionRenewalView = tabPermissions.FirstOrDefault(x => x.TabName == "RenewalView");
                                        if (isPermissionRenewalView != null)
                                        {
                                            <li><a data-toggle="tab" href="#dataitemrenewal" class="sis_tab_a click"><span>@{@HomeController.GetControlTextByControlId("Renewal");}</span></a></li>

                                        }
                                        <li><a data-toggle="tab" href="#News" class="sis_tab_a click"><span>@{@HomeController.GetControlTextByControlId("News");}</span></a></li>

                                    }
                                </ul>
                                <div class="tab-content tab_sis">
                                    <div id="dataitemappointment" class="tab-pane fade in active">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="panel panel-primary">
                                                    <div class="panel-heading" style="background-color:#29b2e1"><span>@{@HomeController.GetControlTextByControlId("Appointment_Details");}</span></div>
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="box box-info">
                                                                    <div class="box-header with-border">
                                                                    </div>
                                                                    <div class="box-body">
                                                                        <div class="row">
                                                                            <form id="AppointmentForm" class="form-horizontal" action="/Data2/AppointmentSave" method="post" enctype="multipart/form-data">
                                                                                <div class="col-sm-12">
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"> <span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <select type="dropdown" class="form-control" style="width:640px !important;" name="ProvinceName" id="ProvinceName"></select>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Appointment_Name");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <input type="text" class="form-control" name="DataListItemName" id="AppointmentName" placeholder="Appointment Name">
                                                                                            <input type="hidden" id="Id" name="Id" class="form-control" />
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Date");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <input type="text" readonly class="form-control datepicker" name="Date" id="Date">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Description");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <textarea rows="6" type="text" class="form-control" name="Description" id="Description" placeholder="Description"></textarea>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <div class="col-sm-6">
                                                                                            @{
                                                                                                var isPermissionAppointmentAdd = tabPermissions.FirstOrDefault(x => x.TabName == "AppointmentAdd");
                                                                                                if (isPermissionAppointmentAdd != null)
                                                                                                {
                                                                                                    <button type="submit" class="btn btn-info pull-right" id="btnappoSave"><span>@{@HomeController.GetControlTextByControlId("Save");}</span></button>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="col-sm-12" style="margin-top:40px;">
                                                                            <table class="table table-striped table-bordered table-hover" id="appoTbl">
                                                                                <thead>
                                                                                    <tr style="background-color:#001f6b; color:white">
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("S_No");}</span> </th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Appointment_Name");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Date");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Description");}</span> </th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Action");}</span></th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody class="tbody">
                                                                                    @{
                                                                                        int L = 1;
                                                                                        foreach (var item in @ViewBag.allAppo as IEnumerable<Generalate.Models.AppointmentData>)
                                                                                        {
                                                                                            <tr>
                                                                                                <td>@L</td>
                                                                                                <td>@item.ProvinceName</td>
                                                                                                <td>@item.DataListItemName</td>
                                                                                                <td>@item.Date</td>
                                                                                                <td>
                                                                                                    @if (@item.Description.Length > 30)
                                                                                                    {
                                                                                                        <span>@item.Description.ToString().Substring(0, 30)</span><span class="Mytooltip" style="color:blue; font:bold;" data-toggle="tooltip" data-placement="top" title="@item.Description.ToString()"> ...<span>@{@HomeController.GetControlTextByControlId("More");}</span></span>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        @item.Description
                                                                                                    }
                                                                                                </td>
                                                                                                <td>
                                                                                                    @{
                                                                                                        var isPermissionAppointmentEdit = tabPermissions.FirstOrDefault(x => x.TabName == "AppointmentEdit");
                                                                                                        if (isPermissionAppointmentEdit != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-edit AppointmentEdit"></i></button>
                                                                                                        }
                                                                                                        var isPermissionAppointmentDelete = tabPermissions.FirstOrDefault(x => x.TabName == "AppointmentDelete");
                                                                                                        if (isPermissionAppointmentDelete != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-trash AppointmentDelete"></i></button>
                                                                                                        }
                                                                                                        @*<button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-eye AppointmentView"></i></button>*@
                                                                                                    }
                                                                                                </td>
                                                                                            </tr>
                                                                                            L++;
                                                                                        }
                                                                                    }
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="dataitemrenewal" class="tab-pane fade">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="panel panel-primary">
                                                    <div class="panel-heading" style="background-color:#29b2e1"><span>@{@HomeController.GetControlTextByControlId("Renewal_Details");}</span></div>
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="box box-info">
                                                                    <div class="box-header with-border">
                                                                    </div>
                                                                    <div class="box-body">
                                                                        <div class="row">
                                                                            <form class="form-horizontal" action="/Data2/RenewalSave" id="RenewalForm" method="post" enctype="multipart/form-data">
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"> <span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <select type="dropdown" class="form-control" style="width:310px !important;" name="ProvinceName" id="ProvinceName12">
                                                                                                @*@foreach (var item in @ViewBag.AllProvince)
                                                                    {
                                                                        <option value="@item.Place">@item.ProvinceName</option>
                                                                    }*@
                                                                                            </select>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Category");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <select class="form-control" name="DataListName" id="DataListNameRene">
                                                                                                @foreach (var item in @ViewBag.allDataList)
                                                                                                {
                                                                                                    <option value="@item.Name">@item.Name</option>
                                                                                                }
                                                                                            </select>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Title");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <input type="text" class="form-control" name="DataListItemName" id="DataListItemNameRene" placeholder="Title">
                                                                                            <input type="hidden" id="Id" name="Id" class="form-control" />
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("FromDate");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <input type="text" readonly class="form-control datepicker" name="FromDate" id="FromDateRene" placeholder="From Date">
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("ToDate");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <input type="text" readonly class="form-control datepicker" name="ToDate" id="ToDateRene" placeholder="To Date">
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-sm-6">
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Description");}</span></label>
                                                                                        <div class="col-sm-6">
                                                                                            <textarea rows="6" type="text" class="form-control" name="Description" id="DescriptionRene" placeholder="Description"></textarea>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label for="inputPassword3" class="col-sm-3 control-label"> <span>@{@HomeController.GetControlTextByControlId("Upload_Doccument");}</span> </label>
                                                                                        <div class="col-sm-6">
                                                                                            <input class="form-control" type="file" id="FileRene1" name="File" multiple accept=".jpg,.png,.jpeg,.png,.doc" max="5">
                                                                                            <span id="FileRene"></span>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <div class="col-sm-6">
                                                                                            @{
                                                                                                var isPermissionRenewalAdd = tabPermissions.FirstOrDefault(x => x.TabName == "RenewalAdd");
                                                                                                if (isPermissionRenewalAdd != null)
                                                                                                {
                                                                                                    <button type="submit" class="btn btn-info pull-right" id="btnReneSave"><span>@{@HomeController.GetControlTextByControlId("Save");}</span></button>
                                                                                                }
                                                                                            }
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </form>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="col-sm-12" style="margin-top:40px;">
                                                                            <table class="table table-striped table-bordered table-hover" id="Renetbl">
                                                                                <thead>
                                                                                    <tr style="background-color:#001f6b; color:white">
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("S_No");}</span> </th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Category");}</span></th>
                                                                                        <th><span>@{@HomeController.GetControlTextByControlId("Title");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("FromDate");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("ToDate");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Action");}</span></th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody class="tbody">
                                                                                    @{
                                                                                        int L1 = 1;
                                                                                        foreach (var item in @ViewBag.allRenewal as IEnumerable<Generalate.Models.DataListItems2>)
                                                                                        {
                                                                                            <tr>
                                                                                                <td>@L1</td>
                                                                                                <td>@item.DataListName</td>
                                                                                                <td>@item.DataListItemName</td>
                                                                                                <td>@item.FromDate</td>
                                                                                                <td>@item.ToDate</td>

                                                                                                <td>
                                                                                                    @{
                                                                                                        var isPermissionRenewalEdit = tabPermissions.FirstOrDefault(x => x.TabName == "RenewalEdit");
                                                                                                        if (isPermissionRenewalEdit != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-edit RenewalEdit"></i></button>
                                                                                                        }
                                                                                                        var isPermissionRenewalDelete = tabPermissions.FirstOrDefault(x => x.TabName == "RenewalDelete");
                                                                                                        if (isPermissionRenewalDelete != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-trash RenewalDelete"></i></button>
                                                                                                        }
                                                                                                        <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-eye RenewalView"></i></button>
                                                                                                    }
                                                                                                </td>
                                                                                            </tr>
                                                                                            L1++;
                                                                                        }
                                                                                    }
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    @*News*@
                                    <div id="News" class="tab-pane fade">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="panel panel-primary">
                                                    <div class="panel-heading" style="background-color:#29b2e1"><span>@{@HomeController.GetControlTextByControlId("News");}</span></div>
                                                    <div class="panel-body">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="box box-info">
                                                                    <div class="box-header with-border">
                                                                    </div>
                                                                    <div class="box-body">
                                                                        <div class="row">
                                                                            <div class="col-sm-12">
                                                                                <form id="NewsForm" class="form-horizontal" action="/Home/AddNewsdata" method="post" enctype="multipart/form-data">
                                                                                    <div class="col-sm-12">
                                                                                        <div class="form-group">
                                                                                            <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("SelectType");}</span></label>
                                                                                            <div class="col-sm-6">
                                                                                                <select class="form-control" name="NewsType" id="NewsType">
                                                                                                    <option value="0">----Select News Types----</option>
                                                                                                    <option value="News">News</option>
                                                                                                    <option value="NewsLetter">News Letter</option>
                                                                                                </select>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="form-group">
                                                                                            <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Title");}</span></label>
                                                                                            <div class="col-sm-6">
                                                                                                <input type="text" id="TitleNews" name="Title" class="form-control" />
                                                                                                <input type="hidden" id="IdNews" name="Id" class="form-control" />
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="form-group">
                                                                                            <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Date");}</span></label>
                                                                                            <div class="col-sm-6">
                                                                                                <input type="text" style="color:black" class="form-control datepicker" name="Date" readonly="readonly" id="DateNews">
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Description");}</span></label>
                                                                                            <div class="col-sm-6">
                                                                                                <textarea type="text" class="form-control" name="Description" id="DescriptionNews"></textarea>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <label for="inputPassword3" class="col-sm-3 control-label"><span>@{@HomeController.GetControlTextByControlId("Upload_File");}</span></label>
                                                                                            <div class="col-sm-6">
                                                                                                <input type="file" class="form-control" name="File" id="FileNews">
                                                                                                <span id="spanFile"></spanid>
                                                                                            </div>
                                                                                        </div>

                                                                                        <div class="form-group">
                                                                                            <div class="col-sm-6">
                                                                                                <button type="submit" class="btn btn-info pull-right" id="btnNewsSave"><span>@{@HomeController.GetControlTextByControlId("Save");}</span></button>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </form>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="row">
                                                                        <div class="col-sm-12" style="margin-top:40px;">
                                                                            <table class="table table-striped table-bordered table-hover" id="Renetbl">
                                                                                <thead>
                                                                                    <tr style="background-color:#001f6b; color:white">
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("S_No");}</span> </th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("News_Type");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Date");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Title");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Description");}</span> </th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("File");}</span></th>
                                                                                        <th> <span>@{@HomeController.GetControlTextByControlId("Action");}</span></th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody class="tbody">
                                                                                    @{
                                                                                        int L3 = 1;
                                                                                        foreach (var item in @ViewBag.allNewsLetter as IEnumerable<Generalate.Models.NewsLetter>)
                                                                                        {
                                                                                            <tr>
                                                                                                <td>@L3</td>
                                                                                                <td>@item.NewsType</td>
                                                                                                <td>@item.Date</td>
                                                                                                <td>@item.Title</td>
                                                                                                <td>
                                                                                                    @if (@item.Description.Length > 20)
                                                                                                    {
                                                                                                        <span>@item.Description.ToString().Substring(0, 20)</span><span class="Mytooltip" style="color:blue; font:bold;" data-toggle="tooltip" data-placement="top" title="@item.Description.ToString()"> ...<span>@{@HomeController.GetControlTextByControlId("More");}</span></span>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        @item.Description
                                                                                                    }
                                                                                                </td>
                                                                                                <td>
                                                                                                    @{
                                                                                                        if (!string.IsNullOrWhiteSpace(@item.File))
                                                                                                        {
                                                                                                            <a target="_blank" href="~/Image/NewsLetter/@item.File"><span>@{@HomeController.GetControlTextByControlId("View");}</span></a>
                                                                                                        }
                                                                                                        else
                                                                                                        {
                                                                                                            <a target="_blank" href="~/Image/No-data-found.png"><span>@{@HomeController.GetControlTextByControlId("Not_Available");}</span></a>
                                                                                                        }
                                                                                                    }
                                                                                                </td>
                                                                                                <td>
                                                                                                    <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-edit NewsLetterEdit"></i></button>
                                                                                                    <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-trash NewsLetterDelete"></i></button>
                                                                                                </td>
                                                                                            </tr>
                                                                                            L3++;
                                                                                        }
                                                                                    }
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="modal fade" id="myModal" style="z-index: 000000 !important;" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" style="margin-top:60px;">
                                            <div class="modal-content" style="width:1050px;">
                                                <div class="modal-header">
                                                    <button type="button" id="manageClose" class="close" data-dismiss="modal">&times;</button>
                                                    <h4 class="modal-title" id="myModalLabel"><span>@{@HomeController.GetControlTextByControlId("Renewal_Details");}</span></h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row" style="margin-top:20px; margin-right:10px;">
                                                        <div class="col-sm-12">
                                                            <table class="table table-bordered" id="TblPersionalDetails">
                                                                @try
                                                                {
                                                                    <tr><h4 style="color:#009be1"><span>@{@HomeController.GetControlTextByControlId("Renewal_Details");}</span></h4></tr>
                                                                    <tr>
                                                                        <th style="width:17%"><span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></th>
                                                                        <td style="width:30%"><span id="ProvinceRenewal"></span></td>
                                                                        <th><span>@{@HomeController.GetControlTextByControlId("Category");}</span></th>
                                                                        <td><span id="CategoryRenewal"></span></td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th><span>@{@HomeController.GetControlTextByControlId("Title");}</span></th>
                                                                        <td><span id="TitleRenewal"></span></td>
                                                                        <th style="width:17%"> <span>@{@HomeController.GetControlTextByControlId("FromDate");}</span></th>
                                                                        <td><span id="FromDateRenewal"></span>  </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th><span>@{@HomeController.GetControlTextByControlId("ToDate");}</span></th>
                                                                        <td><span id="ToDateRenewal"></span></td>
                                                                        <th style="width:17%"> <span>@{@HomeController.GetControlTextByControlId("Description");}</span></th>
                                                                        <td><span id="DescriptionRenewal"></span>  </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <th><span>@{@HomeController.GetControlTextByControlId("File");}</span></th>
                                                                        <td><a target="_blank" id="FileRenewal" href="#"><span>@{@HomeController.GetControlTextByControlId("View");}</span></a></td>
                                                                        <th></th>
                                                                        <td></td>
                                                                    </tr>
                                                                }
                                                                catch (Exception ex)
                                                                {

                                                                }
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    <script src="~/css/DropDownSelect2/dist/js/select2.min.js"></script>
    
    <script>
        $(document).ready(function () {
            $('#appoTbl').DataTable();
            $('#Renetbl').DataTable();
        });
    </script>
    <script>
        $(document).ready(function () {
            $('a[data-toggle="tab"]').on('click', function (e) {
                localStorage.setItem('activeTab', $(this).attr('href'));
            });
            var activeTab = localStorage.getItem('activeTab');
            if (activeTab) {
                $('#myTab a[href="' + activeTab + '"]').tab('show');
            }
        });
    </script>
    <script>
        $(".AppointmentEdit").on('click', function () {
          //debugger;
            $('#AppointmentForm').attr('action', '/Data2/AppointmentUpdate');
            var id = $(this).attr("data-val");
            $("#btnappoSave").text("Update");
            GetAppoById(id);
        });

        function GetAppoById(id) {
            $.ajax({
                url: "/Data2/GetAppoById?id=" + id,
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {
                  //debugger;
                    $("#Id").val(result.Id);
                    $("#AppointmentName").val(result.DataListItemName);
                    $("#Date").val(result.Date);
                    $("#Description").val(result.Description);

                    $('#ProvinceName option[value="' + result.ProvinceName + '"]').attr("selected", "selected");
                    $('#ProvinceName').val(result.ProvinceName).change();

                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            });
        }

        $(".AppointmentDelete").on('click', function () {
            var id = $(this).attr("data-val");
            if (confirm("Do you want to delete ?")) {

                window.location.href = "/Data2/AppointmentDelete?id=" + id;
            }
        });
    </script>
    <script>
        $(".RenewalEdit").on('click', function () {
          //debugger;
            $('#RenewalForm').attr('action', '/Data2/UpdateRenewal');
            var id = $(this).attr("data-val");
            $("#btnReneSave").text("Update");
            GetRenewalById(id);
        });

        function GetRenewalById(id) {
            $.ajax({
                url: "/Data2/GetRenewalById?id=" + id,
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {
                  //debugger;
                    $("#IdRene").val(result.Id);
                    $("#DataListNameRene").val(result.DataListName);
                    $("#DataListItemNameRene").val(result.DataListItemName);
                    $("#FromDateRene").val(result.FromDate);
                    $("#ToDateRene").val(result.ToDate);
                    $("#DescriptionRene").val(result.Description);
                    $("#FileRene").val(result.File);

                    $('#ProvinceName12 option[value="' + result.ProvinceName + '"]').attr("selected", "selected");
                    $('#ProvinceName12').val(result.ProvinceName).change();

                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            });
        }

        $(".RenewalDelete").on('click', function () {

            var id = $(this).attr("data-val");
            if (confirm("Do you want to delete ?")) {
                window.location.href = "/Data2/RenewalDelete?id=" + id;
            }
        });
    </script>
    <script>
        $(document).ready(function () {
            GetAllProvinceView();
        });

        function GetAllProvinceView() {
            $.ajax({
                url: "/Home/GetAllProvinceView",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response2) {
                    if (response2.length > 0) {
                        var allDate2 = [];
                        var omObj2 = {};
                        $('#ProvinceName').html('').select2({ data: [{ id: '', text: '' }] });
                        allDate2.push({ id: '0', text: '-- Select Name --' });
                        for (var i = 0; i < response2.length; i++) {
                            allDate2.push({ id: response2[i].Id, text: response2[i].ProvinceName + " " + response2[i].Place });
                        }
                        $("#ProvinceName").html('').select2({
                            data: allDate2
                        });
                    }
                },
                error: function (er) {
                }
            });
        }
    </script>
    <script>
        $(document).ready(function () {
            GetAllProvinceSoc();
        });

        function GetAllProvinceSoc() {
            $.ajax({
                url: "/Home/GetAllProvinceSoc",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response2) {
                    if (response2.length > 0) {
                        var allDate2 = [];
                        var omObj2 = {};
                        $('#ProvinceName12').html('').select2({ data: [{ id: '', text: '' }] });
                        allDate2.push({ id: '0', text: '-- Select Name --' });
                        for (var i = 0; i < response2.length; i++) {
                            allDate2.push({ id: response2[i].Id, text: response2[i].ProvinceName });
                        }
                        $("#ProvinceName12").html('').select2({
                            data: allDate2
                        });
                    }
                },
                error: function (er) {
                }
            });
        }
    </script>
    <script>
        $('.RenewalView').on("click", function () {
            $('#myModal').modal('show');
            var id = $(this).attr("data-val");
            GetAllRenewalById1(id);
        });
        function GetAllRenewalById1(id) {
            $.ajax({
                url: "/Data2/GetAllRenewalById1?id=" + id,
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (persondata) {
                    $("#ProvinceRenewal").text(persondata[0].ProvinceName);
                    $("#CategoryRenewal").text(persondata[0].DataListName);
                    $("#TitleRenewal").text(persondata[0].DataListItemName);
                    $("#FromDateRenewal").text(persondata[0].FromDate);
                    $("#ToDateRenewal").text(persondata[0].ToDate);
                    $("#DescriptionRenewal").text(persondata[0].Description);
                    $("#FileRenewal").attr("href", "/Image/Renewal/" + persondata[0].File);
                },
                error: function (er) {
                    //alert(er);
                }
            });
        }
    </script>

    <script>
      //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "200") {
            $("#mymessage").html("<b>Data saved successfully !</b>");
            $("#mymessage").css("color", "green");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>
    <script>
      //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "204") {
            $("#mymessage").html("<b>Some Error Occured !</b>");
            $("#mymessage").css("color", "red");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>
    <script>
      //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "201") {
            $("#mymessage").html("<b>Data Updated Successfully !</b>");
            $("#mymessage").css("color", "green");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>
    <script>
      //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "202") {
            $("#mymessage").html("<b>Data Deleted Successfully !</b>");
            $("#mymessage").css("color", "blue");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>
}
