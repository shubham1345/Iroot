
@using Generalate.Controllers;
@model Generalate.Models.ViewModels.MemberReportViewModel
@{
    /**/

    ViewBag.Title = "Appointment";
}
<link href="~/css/DropDownSelect2/dist/css/select2.min.css" rel="stylesheet" />
<link href="~/Content/DropDownSelect2/fSelect.css" rel="stylesheet" />
<style>
    .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
        color: white;
        background-color: #29b2e1;
        border: 1px solid #dddddd;
        border-bottom-color: transparent;
        cursor: default;
    }

    .fs-dropdown {
        width: 30%
    }
</style>

<style>
    body {
        font-family: Arial;
    }

    /* Style the tab */
    .tab {
        overflow: hidden;
        border: 1px solid #ccc;
        background-color: #f1f1f1;
    }

        /* Style the buttons inside the tab */
        .tab button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 17px;
        }

            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: #ddd;
            }

            /* Create an active/current tablink class */
            .tab button.active {
                background-color: #ccc;
            }

    /* Style the tab content */
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
    }
</style>
<ul class="breadcrumb" style="margin-top:80px">
    <li class="pull-right"><a style="font-size: 25px; color:#2a6496;" class="fa fa-chevron-circle-left" href="/Home/Admin"></a></li>
</ul>
@{
    var tabPermissions = Session["tabPermissionList"] as List<Generalate.Models.TabPermissions>;
}


<div class="page-content-wrap">
    <div class="row">

        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12 jss_c">


                                <div class="tab-content">
                                    <div>
                                        <div class="page-content-wrap">
                                            <div class="row" style="margin-right:-5px;margin-left:-5px;">
                                                <div class="col-md-12">
                                                    <ul class="nav nav-tabs" id="myTab">
                                                        <li id="CommunityAppointment1" class="active"><a data-toggle="tab" href="#CommunityAppointment" class="sis_tab_a click"><span>Community Appointment</span></a></li>
                                                        <li id="InstutionAppointment1"><a data-toggle="tab" href="#InstutionAppointment" class="sis_tab_a"><span>Institution Appointment</span></a></li>

                                                    </ul>
                                                    @*<ul class="nav nav-tabs" id="myTab">
                                                            @{

                                                                <div class="tab">
                                                                    <button class="tablinks active" onclick="openCity(event, 'CommunityAppointment')">Community Appointment</button>
                                                                    <button class="tablinks" onclick="openCity(event, 'InstutionAppointment')">Instution Appointment</button>
                                                                </div>

                                                            }
                                                        </ul>*@
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <br />
                                    <br />
                                    @*<div id="CommunityAppointment" class="tabcontent" style="display: block;">*@

                                    @*<br />
                                        <br />*@
                                    <div id="CommunityAppointment" class="tab-pane fade in active brd-panel">
                                        @*<div id="Appointment" class="tab-pane fade brd-panel">*@
                                        <div>
                                            <div class="page-content-wrap">
                                                <div class="row" style="margin-right:-5px;margin-left:-5px;">
                                                    <div class="col-md-12">
                                                        <div class="panel panel-primary">
                                                            <div class="panel-heading" style="background-color:#29b2e1"><span>Community Appointment Details</span></div>
                                                            <div class="panel-body daily" style="height:auto;">
                                                                <div class="row" style="margin-bottom: 5px;">
                                                                    <div class="col-sm-12">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <label><span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></label>
                                                                                <select id='ProvinceDrop1' onchange="ChangeProvinceDrop()" class="form-control"></select>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <label><span>@{@HomeController.GetControlTextByControlId("PrimaryDetails");}</span></label>
                                                                                <select id='persionNames' onchange="ChangePersionName()" class="form-control"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <form action="/EntryLife/SaveAppointment" id="AppointmentForm" method="post" enctype="multipart/form-data">
                                                                            <div class="col-sm-6">
                                                                                <div class="form-group" id="FromDatediv">
                                                                                    <label><span>@{@HomeController.GetControlTextByControlId("FromDate");}</span></label>
                                                                                    <input type="hidden" name="MemberId" id="AppMemberId" value="" />
                                                                                    <input type="hidden" name="Name" id="AppMemberName" value="" />
                                                                                    <input type="hidden" id="ProvinceName" name="ProvinceName" value="" class="form-control">
                                                                                    <input type="hidden" name="Id" id="AppId" value="" />
                                                                                    <input type="hidden" name="AppointmentType" id="AppointmentType" value="" />
                                                                                    <input type="text" id="FromDateappo12" name="FromDate" class="form-control datepicker" placeholder="From Date" readonly>
                                                                                </div>

                                                                                <div class="form-group" id="ToDatediv">
                                                                                    <label><span>@{@HomeController.GetControlTextByControlId("ToDate");}</span></label>
                                                                                    <input type="text" id="ToDateappo12" name="ToDate" class="form-control datepicker" placeholder="To Date" readonly>
                                                                                </div>

                                                                                <div class="form-group" id="Radiodiv1">
                                                                                    <div class="col-sm-12">
                                                                                        <div class="col-sm-4">
                                                                                            <label><input type="radio" id="RDPresentProvince" value="PresentProvince" checked /><span>@{@HomeController.GetControlTextByControlId("Present Province");}</span></label>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            @*<label><input type="radio" id="RDOSPro" value="OSPro" /> <span>@{@HomeController.GetControlTextByControlId("Out Side province");}</span></label>*@
                                                                                            <label><input type="radio" id="RDOSPro" value="OSPro" /> <span>Other Province</span></label>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            @*<label><input type="radio" id="RDMyGen" value="MyGen" /> <span>@{@HomeController.GetControlTextByControlId("SG");}</span></label>*@
                                                                                            <label><input type="radio" id="RDMyGen" value="MyGen" /> <span>Generalate</span></label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group" id="Radiodiv2">
                                                                                    <div class="col-sm-12">
                                                                                        <div class="col-sm-4">
                                                                                            <label><input type="radio" id="RDDiocese" value="Diocese" /> <span>@{@HomeController.GetControlTextByControlId("Diocese");}</span></label>
                                                                                        </div>
                                                                                        <div class="col-sm-6">
                                                                                            <label><input type="radio" id="RDOtherProvince" value="OtherProvince" /> <span>@{@HomeController.GetControlTextByControlId("Other Congregation");}</span></label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="col-sm-12">

                                                                                    <div class="form-group" id="Desidiv">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Designation");}</span></label>
                                                                                        @*<select id="DesignationType" name="DesignationType" multiple="multiple" type="dropdown">*@
                                                                                        @*@foreach (var item in @ViewBag.DesignationType as IEnumerable<Generalate.Models.DataListItems>)
                                                                                            {
                                                                                                <option value="@item.Name">@item.Name</option>
                                                                                            }
                                                                                            </select>*@

                                                                                        <select id="DesignationType" name="DesignationType"></select>

                                                                                        @{
                                                                                            var DesignationType_1 = "";

                                                                                        }
                                                                                        @foreach (var item in @ViewBag.DesignationType as IEnumerable<Generalate.Models.DataListItems>)
                                                                                        {
                                                                                            if (DesignationType_1 == "")
                                                                                            {
                                                                                                DesignationType_1 = item.Name;
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                DesignationType_1 = DesignationType_1 + "~N" + item.Name;
                                                                                            }
                                                                                            @*< option value = "@item" > @item </ option > *@
                                                                                        }

                                                                                        <input type="hidden" id="DesignationType_1" value="@DesignationType_1" />


                                                                                        @*<p id="AddLanguage" class="AddLanguage1" onclick="OpenNewPopUp('designation')" style="cursor:pointer; font-size:25px;margin-top:-5px;float:right" />&#43;*@
                                                                                    </div>
                                                                                </div>


                                                                                <div class="form-group" id="OSPro" style="display:none;">
                                                                                    <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Province");}</span></label>
                                                                                    <select id="appoOSPro" class="form-control" onchange="LoadCommunityDDForOtherPro(this)" name="OSProvince" type="dropdown">
                                                                                        <option value="">--Select Province--</option>
                                                                                        @foreach (var item in @ViewBag.AllProvinceData as IEnumerable<Generalate.Models.tbl_Province>)
                                                                                        {
                                                                                            <option value="@item.MyId">@item.ProvinceName</option>
                                                                                        }
                                                                                    </select>
                                                                                </div>
                                                                                <div class="form-group" id="OSCongName" style="display:none;">
                                                                                    <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Out Side Cong");}</span></label>
                                                                                    <select id="appoOSCong" onchange="OutSideCongBasedLoadDD()" class="form-control" name="OSCongName" type="dropdown">
                                                                                        <option>--Select congregation--</option>
                                                                                        @foreach (var item in @ViewBag.allOSCongname as IEnumerable<Generalate.Models.ComOutSide>)
                                                                                        {
                                                                                            <option value="@item.Id">@item.CommunityName</option>
                                                                                        }
                                                                                    </select>
                                                                                </div>
                                                                                <div class="form-group" id="OSCongPro" style="display:none;">
                                                                                    <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></label>
                                                                                    <select id="appoCongPro" class="form-control" onchange="ComOSInsProvinceBasedLoadDD()" name="OSCongProvince" type="dropdown" style="width:96%">
                                                                                        <option>--Select Province--</option>
                                                                                        @*@foreach (var item in @ViewBag.allCongPro as IEnumerable<Generalate.Models.ComOSProvince>)
                                                                                            {
                                                                                                <option value="@item.id">@item.OtherProvince</option>
                                                                                            }*@
                                                                                        @foreach (var item in @ViewBag.allCongPro as IEnumerable<Generalate.Models.ComOutSide>)
                                                                                        {
                                                                                            <option value="@item.Id">@item.OtherProvince</option>
                                                                                        }
                                                                                    </select>
                                                                                    @*<p id="AddLanguage" class="AddLanguage1" onclick="OpenOtherCongNewPopUp('appoCongPro')" style="cursor:pointer; font-size:25px;margin-top:-30px;float:right" />&#43;*@
                                                                                </div>
                                                                                <div class="form-group" id="Diodiv" style="display:none;">
                                                                                    <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Diocese");}</span></label>
                                                                                    <select id="appoDiocese" onchange="DioceseBasedParisLoadDD(1);DioceseBasedLoadDD()" class="form-control" style="width:600px;" name="Diocese" type="dropdown">
                                                                                        @*<option>--Select Parish--</option>
                                                                                            @foreach (var item in @ViewBag.allDiocesename as IEnumerable<Generalate.Models.tbl_Diocese>)
                                                                                            {
                                                                                                <option value="@item.Id">@item.DioceseName</option>
                                                                                            }*@
                                                                                    </select>
                                                                                    @*<p id="AddappoDiocese" class="AddappoDiocese1" onclick="OpenDiosesNewPopUp('appoDiocese')" style="float:right;cursor:pointer; font-size:25px;margin-top:-5px" />&#43;*@
                                                                                </div>
                                                                                <div class="form-group" id="Parishdiv" style="display:none;">
                                                                                    <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Parish");}</span></label>
                                                                                    <select id="appoParish" class="form-control" style="width:600px;" name="ParisData" type="dropdown">
                                                                                        @*<option>--Select Parish--</option>
                                                                                            @foreach (var item in @ViewBag.allDioParish as IEnumerable<Generalate.Models.tbl_DioceseParish>)
                                                                                            {
                                                                                                <option value="@item.Id">@item.ParishName</option>
                                                                                            }*@
                                                                                    </select>
                                                                                    @*<p id="AddappoParish" class="AddappoParish1" onclick="OpenDiosesNewPopUp('appoParish')" style="float:right;cursor:pointer; font-size:25px;margin-top:-5px" />&#43;*@

                                                                                </div>
                                                                                @*<div class="form-group" id="Institutiondiv">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Institution");}</span>  </label>
                                                                                        <select type="dropdown" id="InstitutionType" style="width:400px;" multiple="multiple" name="InstitutionType">
                                                                                            @foreach (var item in @ViewBag.InstitutionName as IEnumerable<Generalate.Models.Tbl_ParisInstitutionDetails>)
                                                                                            {
                                                                                                <option value="@item.Id">@item.Name</option>
                                                                                            }
                                                                                        </select>
                                                                                        <p id="AddInstution" class="AddInstution" style="cursor:pointer; font-size:25px;float:right" />&#43;

                                                                                    </div>*@
                                                                                @*<div class="form-group" id="Institutiondiv1" style="display:none;">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Institution");}</span> </label>
                                                                                        <select type="dropdown" id="InstitutionType1" multiple="multiple" name="InstitutionType">
                                                                                            @foreach (var item in @ViewBag.InstitutionName1 as IEnumerable<Generalate.Models.Tbl_ParisInstitutionDetails>)
                                                                                            {
                                                                                                <option value="@item.Id">@item.Name</option>
                                                                                            }
                                                                                        </select>
                                                                                        <p id="AddInstution" class="AddInstution" style="cursor:pointer; font-size:25px;float:right" />&#43;
                                                                                    </div>*@
                                                                                @*<div class="form-group" id="Institutiondiv2" style="display:none;">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Institution");}</span> </label>
                                                                                        <select type="dropdown" id="InstitutionType2" multiple="multiple" name="InstitutionType">
                                                                                            @foreach (var item in @ViewBag.InstitutionNameDio as IEnumerable<Generalate.Models.tbl_DioceseInst>)
                                                                                            {
                                                                                                <option value="@item.id">@item.InstName</option>
                                                                                            }
                                                                                        </select>
                                                                                        <p id="AddInstitutionType2" class="AddInstitutionType21" onclick="OpenDiosesNewPopUp('InstitutionType2')" style="float:right;cursor:pointer; font-size:25px;margin-top:-5px" />&#43;
                                                                                    </div>
                                                                                    <div class="form-group" id="Institutiondiv3" style="display:none;">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Institution");}</span> </label>
                                                                                        <select type="dropdown" id="InstitutionType3" multiple="multiple" name="InstitutionType">
                                                                                            @foreach (var item in @ViewBag.allComOSInstitute as IEnumerable<Generalate.Models.tbl_ComOSInstitute>)
                                                                                            {
                                                                                                <option value="@item.id">@item.InstName</option>
                                                                                            }
                                                                                        </select>
                                                                                        <p id="AddLanguage" class="AddLanguage1" onclick="OpenOtherCongNewPopUp('InstitutionType3')" style="cursor:pointer; font-size:25px;margin-top:-5px;float:right" />&#43;
                                                                                    </div>*@
                                                                                <div class="form-group" id="SGGeneralateDiv" style="display:none;">
                                                                                    <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Generalate");}</span> </label>

                                                                                    <select id="SGGeneralate" class="form-control" style="width:600px;" name="SGGeneralate" type="dropdown">
                                                                                        <option value="">-- Select --</option>
                                                                                        @foreach (var item in @ViewBag.SGGeneralate as IEnumerable<Generalate.Models.tbl_Congregation>)
                                                                                        {
                                                                                            <option value="@item.Id">@item.CongregationName</option>
                                                                                        }
                                                                                    </select>
                                                                                </div>
                                                                                @*<div class="form-group" id="Institutiondiv4" style="display:none;">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Institution");}</span> </label>
                                                                                        <select type="dropdown" id="InstitutionType4" multiple="multiple" name="InstitutionType">
                                                                                            @foreach (var item in @ViewBag.InstitutionName14 as IEnumerable<Generalate.Models.Tbl_ParisInstitutionDetails>)
                                                                                            {
                                                                                                <option value="@item.Id">@item.Name</option>
                                                                                            }
                                                                                        </select>
                                                                                        <p id="AddInstution" class="AddInstution" style="cursor:pointer; font-size:25px;float:right" />&#43;
                                                                                    </div>*@

                                                                                <div class="form-group" id="Communitydiv">
                                                                                    <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Community");}</span><span class="mandatoryStar"> *</span></label>
                                                                                    @*<select type="dropdown" name="CommunityType" multiple="multiple" id="CommunityType">*@
                                                                                    @*<select type="dropdown" name="CommunityType" id="CommunityType"></select>*@
                                                                                    <select class="form-control" id="CommunityType" style="width:350px !important;" name="CommunityType"></select>

                                                                                    @{
                                                                                        var CommunityTypeList_1 = "";
                                                                                    }
                                                                                    @*@foreach (var item in @ViewBag.CommunityTypeList as IEnumerable<string>)
                                                                                        {
                                                                                            if (CommunityTypeList_1 == "")
                                                                                            {
                                                                                                CommunityTypeList_1 = item;
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                CommunityTypeList_1 = CommunityTypeList_1 + "~N" + item;
                                                                                            }
                                                                                            //< option value = "@item" > @item </ option >
                                                                                        }*@

                                                                                    <input type="hidden" id="CommunityTypeList_1" value="@CommunityTypeList_1" />
                                                                                    @*<p id="AddCommunity" class="AddCommunity" style="cursor:pointer; font-size:25px;float:right" />&#43;*@
                                                                                </div>
                                                                                @*<div class="form-group" id="Communitydiv11" style="display:none;">*@
                                                                                <div id="Communitydiv11" style="display:none;">
                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Designation");}</span></label>
                                                                                        <select id="DesignationType1" name="DesignationType" multiple="multiple" type="dropdown">
                                                                                            @foreach (var item in @ViewBag.DesignationType as IEnumerable<Generalate.Models.DataListItems>)
                                                                                            {
                                                                                                <option value="@item.Name">@item.Name</option>
                                                                                            }
                                                                                        </select>
                                                                                        @*<p id="AddLanguage" class="AddLanguage1" onclick="OpenNewPopUp('designation')" style="cursor:pointer; font-size:25px;margin-top:-5px;float:right" />&#43;*@
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Community");}</span></label>
                                                                                        <select class="form-control" id="CommunityType111" style="width:350px !important;" name="CommunityType"></select>
                                                                                        @*<select type="dropdown" name="CommunityType" id="CommunityType111">
                                                                                                <option value="">--Select--</option>
                                                                                                @foreach (var item in @ViewBag.CommunityTypeList1 as IEnumerable<string>)

                                                                                                {
                                                                                                    <option value="@item">@item</option>
                                                                                                }
                                                                                            </select>*@
                                                                                        @*<p id="AddCommunity" class="AddCommunity" style="cursor:pointer; font-size:25px;float:right" />&#43;*@
                                                                                    </div>
                                                                                </div>
                                                                                <div id="Communitydiv22" style="display:none;">
                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Designation");}</span></label>
                                                                                        @*<select id="DesignationType3"  class="form-control" style="width:600px;" name="DesignationType" type="dropdown">*@
                                                                                        <select id="DesignationType3" name="DesignationType" multiple="multiple" type="dropdown">
                                                                                            @foreach (var item in @ViewBag.DesignationType as IEnumerable<Generalate.Models.DataListItems>)
                                                                                            {
                                                                                                <option value="@item.Name">@item.Name</option>
                                                                                            }
                                                                                        </select>
                                                                                        @*<p id="AddLanguage" class="AddLanguage1" onclick="OpenNewPopUp('designation')" style="cursor:pointer; font-size:25px;margin-top:-5px;float:right" />&#43;*@
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Community");}</span></label>
                                                                                        <select type="dropdown" name="CommunityType" id="CommunityType22">
                                                                                            <option value="">--Select--</option>
                                                                                            @foreach (var item in @ViewBag.CommunityNameDio as IEnumerable<Generalate.Models.tbl_DioceseCom>)
                                                                                            {
                                                                                                <option value="@item.id">@item.ComName</option>
                                                                                            }
                                                                                        </select>
                                                                                        @*<p id="AddCommunityType22" class="AddCommunityType221" onclick="OpenDiosesNewPopUp('CommunityType22')" style="float:right; cursor:pointer; font-size:25px;margin-top:-5px" />&#43;*@
                                                                                    </div>
                                                                                </div>
                                                                                <div id="Communitydiv33" style="display:none;">
                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Designation");}</span></label>
                                                                                        <select id="DesignationType4" name="DesignationType" multiple="multiple" type="dropdown">
                                                                                            @foreach (var item in @ViewBag.DesignationType as IEnumerable<Generalate.Models.DataListItems>)
                                                                                            {
                                                                                                <option value="@item.Name">@item.Name</option>
                                                                                            }
                                                                                        </select>
                                                                                        @*<p id="AddLanguage" class="AddLanguage1" onclick="OpenNewPopUp('designation')" style="cursor:pointer; font-size:25px;margin-top:-5px;float:right" />&#43;*@
                                                                                    </div>
                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Community");}</span> <span class="mandatoryStar"> *</span> </label>
                                                                                        <select class="form-control" id="CommunityType33" style="width:350px !important;" name="CommunityType"></select>

                                                                                        @{
                                                                                            var CommunityTypeList_33 = "";
                                                                                            var CommunityTypeList_Id33 = "";

                                                                                        }
                                                                                        @foreach (var item in @ViewBag.allComOSCommunity as IEnumerable<Generalate.Models.tbl_ComOSCommunity>)
                                                                                        {
                                                                                            if (CommunityTypeList_33 == "")
                                                                                            {
                                                                                                CommunityTypeList_Id33 = item.id.ToString();
                                                                                                CommunityTypeList_33 = item.ComName;
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                CommunityTypeList_Id33 = CommunityTypeList_Id33 + "~N" + item.id.ToString(); ;
                                                                                                CommunityTypeList_33 = CommunityTypeList_33 + "~N" + item.ComName;
                                                                                            }
                                                                                            @*< option value = "@item" > @item </ option > *@
                                                                                        }

                                                                                        <input type="hidden" id="CommunityTypeList_Id33" value="@CommunityTypeList_Id33" />
                                                                                        <input type="hidden" id="CommunityTypeList_33" value="@CommunityTypeList_33" />

                                                                                        @*<select type="dropdown" name="CommunityType" id="CommunityType33">
                                                                                                <option value="">--Select--</option>
                                                                                                @foreach (var item in @ViewBag.allComOSCommunity as IEnumerable<Generalate.Models.tbl_ComOSCommunity>)
                                                                                                {
                                                                                                    <option value="@item.id">@item.ComName</option>
                                                                                                }
                                                                                            </select>*@
                                                                                        @*<p id="AddCommunityType" class="AddCommunityType1" onclick="OpenOtherCongNewPopUp('CommunityType33')" style="cursor:pointer; font-size:25px;margin-top:-5px;float:right" />&#43;*@
                                                                                    </div>
                                                                                </div>
                                                                                @*<div class="form-group" id="Communitydiv44" style="display:none;">*@
                                                                                <div id="Communitydiv44" style="display:none;">

                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Designation");}</span></label>
                                                                                        <select id="DesignationType2" name="DesignationType" multiple="multiple" type="dropdown">
                                                                                            @foreach (var item in @ViewBag.DesignationType as IEnumerable<Generalate.Models.DataListItems>)
                                                                                            {
                                                                                                <option value="@item.Name">@item.Name</option>
                                                                                            }
                                                                                        </select>
                                                                                        @*<p id="AddLanguage" class="AddLanguage1" onclick="OpenNewPopUp('designation')" style="cursor:pointer; font-size:25px;margin-top:-5px;float:right" />&#43;*@
                                                                                    </div>

                                                                                    <div class="form-group">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Community");}</span></label>
                                                                                        <select class="form-control" id="CommunityType44" style="width:350px !important;" name="CommunityType"></select>

                                                                                        @*<select type="dropdown" name="CommunityType" id="CommunityType44">
                                                                                                <option value="">--Select--</option>
                                                                                                @foreach (var item in @ViewBag.allGenCommunity4 as IEnumerable<Generalate.Models.Tbl_Cong>)
                                                                                                {
                                                                                                    <option value="@item.Id">@item.CongregationName</option>
                                                                                                }
                                                                                            </select>*@
                                                                                        @*<p id="AddCommunity" class="AddCommunity" style="cursor:pointer; font-size:25px;float:right" />&#43;*@

                                                                                        @{
                                                                                            var CommunityTypeList_44 = "";
                                                                                            var CommunityTypeList_Id44 = "";

                                                                                        }
                                                                                        @foreach (var item in @ViewBag.allGenCommunity4 as IEnumerable<Generalate.Models.Tbl_Cong>)
                                                                                        {
                                                                                            if (CommunityTypeList_44 == "")
                                                                                            {
                                                                                                CommunityTypeList_Id44 = item.CongregationName.ToString();
                                                                                                CommunityTypeList_44 = item.CongregationName;
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                CommunityTypeList_Id44 = CommunityTypeList_Id44 + "~N" + item.CongregationName.ToString(); ;
                                                                                                CommunityTypeList_44 = CommunityTypeList_44 + "~N" + item.CongregationName;
                                                                                            }
                                                                                            @*< option value = "@item" > @item </ option > *@
                                                                                        }

                                                                                        <input type="hidden" id="CommunityTypeList_Id44" value="@CommunityTypeList_Id44" />
                                                                                        <input type="hidden" id="CommunityTypeList_44" value="@CommunityTypeList_44" />


                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-6" style="border-right: 1px solid #eee;">
                                                                                <div class="form-group" id="uploaddocdiv">
                                                                                    <label><span>@{@HomeController.GetControlTextByControlId("Upload_Doccument");}</span> </label>
                                                                                    <input class="form-control" type="file" id="Apointfile1" name="doc" multiple accept=".jpg,.png,.jpeg,.png,.doc" max="5">
                                                                                    <span id="Apointfile"></span>
                                                                                </div>
                                                                                <div class="form-group" id="descriptionDiv">
                                                                                    <label><span>@{@HomeController.GetControlTextByControlId("Description/Remarks");}</span></label>
                                                                                    <textarea rows="5" type="text" id="AppDescription" name="Description" class="form-control"></textarea>
                                                                                </div>
                                                                                <div class="form-group">
                                                                                    @{
                                                                                        var isPermissionAppoinmentAdd = tabPermissions.FirstOrDefault(x => x.TabName == "AppoinmentAdd");
                                                                                        if (isPermissionAppoinmentAdd != null)
                                                                                        {
                                                                                            <button type="submit" class="btn btn-primary pull-right" onclick="return SaveAppointment()" id="btnAppointmentSave" style="background-color:#001f6b"><span>@{@HomeController.GetControlTextByControlId("Save");}</span></button>
                                                                                            @*<button type="button" class="btn btn-primary pull-right" onclick="SaveAppointment()" id="btnAppointmentSave" style="background-color:#001f6b"><span>@{@HomeController.GetControlTextByControlId("Save");}</span></button>*@
                                                                                        }
                                                                                    }
                                                                                </div>
                                                                            </div>



                                                                        </form>
                                                                    </div>
                                                                </div>

                                                                <div class="row" style="margin-top:30px;">
                                                                    <div class="col-sm-12">
                                                                        <table class="table table-striped table-hover table-bordered" id="AppointTbl" style="margin-top:20px;">
                                                                            <thead>
                                                                                <tr style="background-color:#001f6b; color:white">
                                                                                    @*<th><span>@{@HomeController.GetControlTextByControlId("S_No");}</span>  </th>*@
                                                                                    <th><span>@{@HomeController.GetControlTextByControlId("FromDate");}</span> </th>
                                                                                    <th><span>@{@HomeController.GetControlTextByControlId("ToDate");}</span> </th>
                                                                                    <th><span>Name</span> </th>
                                                                                    @*<th><span>Appointment</span> </th>*@
                                                                                    @*<th><span>@{@HomeController.GetControlTextByControlId("View_Documents");}</span> </th*@
                                                                                    <th><span>Community</span> </th>                                                                                     @*<th><span>@{@HomeController.GetControlTextByControlId("View_Documents");}</span> </th*@
                                                                                    <th><span>Designation</span> </th>                                                                                     @*<th><span>@{@HomeController.GetControlTextByControlId("View_Documents");}</span> </th*@
                                                                                    <th><span>@{@HomeController.GetControlTextByControlId("Action");}</span> </th>
                                                                                </tr>
                                                                            </thead>
                                                                            @*<tbody class="tbody">
                                                                                    @{
                                                                                        int L = 1;
                                                                                        foreach (var item in @ViewBag.allApoinments as IEnumerable<Generalate.Models.Appointments>)
                                                                                        {
                                                                                            <tr>
                                                                                                <td>@L</td>
                                                                                                <td>@item.FromDate</td>
                                                                                                <td>@item.ToDate</td>
                                                                                                <td>@item.Name</td>
                                                                                                <td>@item.AppointmentType</td>
                                                                                                <td>@item.CommunityType</td>
                                                                                                <td>@item.DesignationType</td>

                                                                                                <td>
                                                                                                    @{
                                                                                                        var isPermissionAppoinmentEdit = tabPermissions.FirstOrDefault(x => x.TabName == "AppoinmentEdit");
                                                                                                        if (isPermissionAppoinmentEdit != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-edit AppointmentEdit"></i></button>
                                                                                                        }

                                                                                                        var isPermissionAppoinmentDelete = tabPermissions.FirstOrDefault(x => x.TabName == "AppoinmentDelete");
                                                                                                        if (isPermissionAppoinmentDelete != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-trash-o AppointmentDelete"></i></button>
                                                                                                        }
                                                                                                        <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-eye AppointmentView"></i></button>
                                                                                                    }
                                                                                                </td>
                                                                                            </tr>
                                                                                            L++;
                                                                                        }
                                                                                    }
                                                                                </tbody>*@
                                                                        </table>
                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>

                                    @*<div id="InstutionAppointment" class="tabcontent">*@
                                    <div id="InstutionAppointment" class="tab-pane fade brd-panel">
                                        <div>
                                            <div class="page-content-wrap">
                                                <div class="row" style="margin-right:-5px;margin-left:-5px;">
                                                    <div class="col-md-12">
                                                        <div class="panel panel-primary">
                                                            <div class="panel-heading" style="background-color:#29b2e1"><span>Institution Appointment Details</span></div>
                                                            <div class="panel-body daily" style="height:auto;">
                                                                <div class="row" style="margin-bottom: 5px;">
                                                                    <div class="col-sm-12">
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <label><span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></label>
                                                                                <select id='ProvinceDrop1_ins' onchange="ChangeProvinceDropForIns()" class="form-control"></select>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-sm-6">
                                                                            <div class="form-group">
                                                                                <label><span>@{@HomeController.GetControlTextByControlId("PrimaryDetails");}</span></label>
                                                                                <select id='persionNames_ins' onchange="ChangePersionNameForIns()" class="form-control"></select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-sm-12">
                                                                        <form action="/EntryLife/SaveAppointment" id="AppointmentForm" method="post" enctype="multipart/form-data">
                                                                            <div class="col-sm-6">
                                                                                <div class="form-group" id="IFromDatediv">
                                                                                    <label><span>@{@HomeController.GetControlTextByControlId("FromDate");}</span></label>
                                                                                    <input type="hidden" name="MemberId" id="AppMemberId1" value="" />
                                                                                    <input type="hidden" name="Name" id="AppMemberName1" value="" />
                                                                                    <input type="hidden" id="ProvinceName" name="ProvinceName1" value="" class="form-control">
                                                                                    <input type="hidden" name="Id" id="AppId1" value="" />
                                                                                    <input type="hidden" name="AppointmentType" id="IAppointmentType" value="" />
                                                                                    <input type="text" id="IFromDateappo12" name="FromDate" class="form-control datepicker" placeholder="From Date" readonly>
                                                                                </div>

                                                                                <div class="form-group" id="IToDatediv">
                                                                                    <label><span>@{@HomeController.GetControlTextByControlId("ToDate");}</span></label>
                                                                                    <input type="text" id="IToDateappo12" name="ToDate" class="form-control datepicker" placeholder="To Date" readonly>
                                                                                </div>

                                                                                <div class="form-group" id="IRadiodiv1">
                                                                                    <div class="col-sm-12">
                                                                                        <div class="col-sm-4">
                                                                                            <label><input type="radio" id="IRDPresentProvince" value="PresentProvince" checked /><span>@{@HomeController.GetControlTextByControlId("Present Province");}</span></label>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            @*<label><input type="radio" id="RDOSPro" value="OSPro" /> <span>@{@HomeController.GetControlTextByControlId("Out Side province");}</span></label>*@
                                                                                            <label><input type="radio" id="IRDOSPro" value="OSPro" /> <span>Other Province</span></label>
                                                                                        </div>
                                                                                        <div class="col-sm-4">
                                                                                            @*<label><input type="radio" id="RDMyGen" value="MyGen" /> <span>@{@HomeController.GetControlTextByControlId("SG");}</span></label>*@
                                                                                            <label><input type="radio" id="IRDMyGen" value="MyGen" /> <span>Generalate</span></label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>

                                                                                <div class="form-group" id="IRadiodiv2">
                                                                                    <div class="col-sm-12">
                                                                                        <div class="col-sm-4">
                                                                                            <label><input type="radio" id="IRDDiocese" value="Diocese" /> <span>@{@HomeController.GetControlTextByControlId("Diocese");}</span></label>
                                                                                        </div>
                                                                                        <div class="col-sm-6">
                                                                                            <label><input type="radio" id="IRDOtherProvince" value="OtherProvince" /> <span>@{@HomeController.GetControlTextByControlId("Other Congregation");}</span></label>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>



                                                                            </div>
                                                                            <div class="col-sm-6" style="border-right: 1px solid #eee;">

                                                                                <div class="form-group" id="IdescriptionDiv">
                                                                                    <label><span>@{@HomeController.GetControlTextByControlId("Description/Remarks");}</span></label>
                                                                                    <textarea rows="5" type="text" id="IAppDescription" name="Description" class="form-control"></textarea>
                                                                                </div>

                                                                            </div>

                                                                            <div class="col-sm-12">
                                                                                <div class="col-sm-6">

                                                                                    <div class="form-group" id="IOSPro" style="display:none;">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Province");}</span></label>
                                                                                        <select id="IappoOSPro" class="form-control" onchange="OutSideProBasedLoadDD();LoadInstitutionById('0')" name="OSProvince" type="dropdown">
                                                                                            <option value="">--Select Province--</option>
                                                                                                @foreach (var item in @ViewBag.AllProvinceData as IEnumerable<Generalate.Models.tbl_Province>)
                                                                                                {
                                                                                                    <option value="@item.MyId">@item.ProvinceName</option>
                                                                                                }
                                                                                        </select>
                                                                                    </div>
                                                                                    <div class="form-group" id="IOSCongName" style="display:none;">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Out Side Cong");}</span></label>
                                                                                        <select id="IappoOSCong" onchange="OutSideCongBasedLoadDD1();LoadInstitudeCongregation()" class="form-control" name="OSCongName" type="dropdown">
                                                                                            <option>--Select congregation--</option>
                                                                                            @foreach (var item in @ViewBag.allOSCongname as IEnumerable<Generalate.Models.ComOutSide>)
                                                                                            {
                                                                                                <option value="@item.Id">@item.CommunityName</option>
                                                                                            }
                                                                                        </select>

                                                                                        @*<select id="IappoOSCong" onchange="OutSideCongBasedLoadDD1()" class="form-control" name="OSCongName" style="width:350px !important;" ></select>

                                                                                            @{
                                                                                                var IappoOSCong_1 = "";
                                                                                                var IappoOSCong_Id1 = "";

                                                                                            }
                                                                                            @foreach (var item in @ViewBag.allOSCongname as IEnumerable<Generalate.Models.ComOutSide>)
                                                                                            {
                                                                                                if (IappoOSCong_1 == "")
                                                                                                {
                                                                                                    IappoOSCong_Id1 = item.Id.ToString();
                                                                                                    IappoOSCong_1 = item.CommunityName;
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    IappoOSCong_Id1 = CommunityTypeList_Id44 + "~N" + item.Id.ToString(); ;
                                                                                                    IappoOSCong_1 = CommunityTypeList_44 + "~N" + item.CommunityName;
                                                                                                }
                                                                                            }

                                                                                            <input type="hidden" id="IappoOSCong_Id1" value="@IappoOSCong_Id1" />
                                                                                            <input type="hidden" id="IappoOSCong_1" value="@IappoOSCong_1" /> *@

                                                                                    </div>
                                                                                    <div class="form-group" id="IOSCongPro" style="display:none;">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Province_Name");}</span></label>
                                                                                        <select id="IappoCongPro" class="form-control" onchange="ComOSInsProvinceBasedLoadDD()" name="OSCongProvince" type="dropdown" style="width:96%">
                                                                                            <option>--Select Province--</option>

                                                                                            @foreach (var item in @ViewBag.allCongPro as IEnumerable<Generalate.Models.ComOutSide>)
                                                                                            {
                                                                                                <option value="@item.Id">@item.OtherProvince</option>
                                                                                            }
                                                                                        </select>
                                                                                    </div>
                                                                                    <div class="form-group" id="IDiodiv" style="display:none;">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Diocese");}</span></label>
                                                                                        <select id="IappoDiocese" onchange="DioceseBasedParisLoadDD(2); DioceseBasedLoadDD1();LoadInstitutionDiocese()" class="form-control" style="width:600px;" name="Diocese" type="dropdown"></select>
                                                                                    </div>
                                                                                    <div class="form-group" id="IParishdiv" style="display:none;">
                                                                                        <label class="col-sm-6"> <span>@{@HomeController.GetControlTextByControlId("Parish");}</span></label>
                                                                                        <select id="IappoParish" class="form-control" style="width:600px;" name="ParisData" type="dropdown"></select>

                                                                                    </div>

                                                                                    <div class="form-group" id="ISGGeneralateDiv" style="display:none;">
                                                                                        <label class="col-sm-6"><span>@{@HomeController.GetControlTextByControlId("Generalate");}</span> </label>
                                                                                        <select class="form-control" id="ISGGeneralate" onclick="SGBasedLoadDD()" style="width:350px !important;" name="SGGeneralate"></select>
                                                                                        @*<select id="ISGGeneralate" class="form-control" onchange="SGBasedLoadDD()" style="width:600px;" name="SGGeneralate" type="dropdown">
                                                                                                <option value="">-- Select --</option>
                                                                                                @foreach (var item in @ViewBag.SGGeneralate as IEnumerable<Generalate.Models.tbl_Congregation>)
                                                                                                {
                                                                                                    <option value="@item.Id">@item.CongregationName</option>
                                                                                                }
                                                                                            </select>*@

                                                                                        @{
                                                                                            var ISGGeneralate_1 = "";
                                                                                            var ISGGeneralate_Id1 = "";

                                                                                        }
                                                                                        @foreach (var item in @ViewBag.SGGeneralate as IEnumerable<Generalate.Models.tbl_Congregation>)
                                                                                        {
                                                                                            if (ISGGeneralate_1 == "")
                                                                                            {
                                                                                                ISGGeneralate_Id1 = item.Id.ToString();
                                                                                                ISGGeneralate_1 = item.CongregationName;
                                                                                            }
                                                                                            else
                                                                                            {
                                                                                                ISGGeneralate_Id1 = CommunityTypeList_Id44 + "~N" + item.Id.ToString(); ;
                                                                                                ISGGeneralate_1 = CommunityTypeList_44 + "~N" + item.CongregationName;
                                                                                            }
                                                                                            @*< option value = "@item" > @item </ option > *@
                                                                                        }

                                                                                        <input type="hidden" id="ISGGeneralate_Id1" value="@ISGGeneralate_Id1" />
                                                                                        <input type="hidden" id="ISGGeneralate_1" value="@ISGGeneralate_1" />

                                                                                    </div>
                                                                                </div>
                                                                            </div>




                                                                            @*<div class="form-group" id="IDesidiv1">

                                                                                <div class="panel-body daily" style="height:auto;">*@
                                                                            <div class="col-sm-12">
                                                                                <div class="row" style="margin-top:10px;">
                                                                                    <div class="col-sm-1">
                                                                                        <input type="button" id="IPresentProvinceaddRow" onclick="AddIPresentProvinceaddRow()" class="btn btn-primary btn-sm" value="Add Row (+)" />
                                                                                    </div>
                                                                                    <div class="col-sm-1">
                                                                                        <input type="button" id="IPresentProRemoveRow" onclick="RemoveRow()" class="btn btn-danger btn-sm" value="Remove F`Row (-)" />
                                                                                    </div>
                                                                                </div>

                                                                                @*<div class="row" style="margin-top:10px;">
                                                                                    <div class="col-sm-6">*@
                                                                                <table class="table table-bordered" id="IformforPresentProvinceTbl">
                                                                                    <thead>
                                                                                        <tr>
                                                                                            @*<th>S.No</th>*@
                                                                                            <th> <label><input type="checkbox" id="SelectAllCheckBox1"> All</label></th>
                                                                                            <th style="width:33%">@{@HomeController.GetControlTextByControlId("Designation");}</th>
                                                                                            <th style="width:33%">@{@HomeController.GetControlTextByControlId("Institution");}</th>
                                                                                            <th>File</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody id="IformforPresentProvince">
                                                                                        @*<tr>
                                                                                                <td><input type="checkbox" name="ischecked1" /></td>
                                                                                                <td>
                                                                                                    <select id="InsDesignationType_1" name="InsDesignationType" type="dropdown">
                                                                                                        <option value="">--Select--</option>
                                                                                                        @foreach (var item in @ViewBag.DesignationType as IEnumerable<Generalate.Models.DataListItems>)
                                                                                                        {
                                                                                                            <option value="@item.Name">@item.Name</option>
                                                                                                        }
                                                                                                    </select>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <select type="dropdown" id="InstitutionType_1" name="InstitutionType">
                                                                                                        <option value="">--Select--</option>
                                                                                                        @foreach (var item in @ViewBag.InstitutionName as IEnumerable<Generalate.Models.Tbl_ParisInstitutionDetails>)
                                                                                                        {
                                                                                                            <option value="@item.Id">@item.Name</option>
                                                                                                        }
                                                                                                    </select>
                                                                                                </td>
                                                                                                <td>
                                                                                                    <input class="form-control" type="file" id="IApointfile_1" name="doc" multiple accept=".jpg,.png,.jpeg,.png,.doc" max="5">
                                                                                                </td>

                                                                                            </tr>*@
                                                                                    </tbody>
                                                                                </table>
                                                                                @*</div>
                                                                                            </div>
                                                                                        </div>

                                                                                    </div>*@


                                                                                <div class="form-group">
                                                                                    @{
                                                                                        var isPermissionAppoinmentAdd1 = tabPermissions.FirstOrDefault(x => x.TabName == "AppoinmentAdd");
                                                                                        if (isPermissionAppoinmentAdd1 != null)
                                                                                        {
                                                                                            <button type="button" class="btn btn-primary pull-right" onclick="SaveInsAppointment1()" id="btnInsAppointmentSave" style="background-color:#001f6b"><span>@{@HomeController.GetControlTextByControlId("Save");}</span></button>
                                                                                            <button type="button" class="btn btn-primary pull-right" onclick="UpdateInsAppointment()" id="btnInsAppointmentUpdate" style="background-color:#001f6b; display: none;"><span>@{@HomeController.GetControlTextByControlId("Update");}</span></button>
                                                                                        }
                                                                                    }
                                                                                </div>

                                                                            </div>
                                                                        </form>
                                                                    </div>
                                                                </div>
                                                                <div class="row" style="margin-top:30px;">
                                                                    <div class="col-sm-12">
                                                                        <table class="table table-striped table-hover table-bordered" id="IAppointTbl" style="margin-top:20px;">
                                                                            <thead>
                                                                                <tr>
                                                                                    @*<th><span>@{@HomeController.GetControlTextByControlId("S_No");}</span>  </th>*@
                                                                                    <th><span>@{@HomeController.GetControlTextByControlId("FromDate");}</span> </th>
                                                                                    <th><span>@{@HomeController.GetControlTextByControlId("ToDate");}</span> </th>
                                                                                    <th><span>Name</span> </th>
                                                                                    @*<th><span>Appointment</span> </th>*@
                                                                                    <th><span>Designation</span> </th>                                                                                     @*<th><span>@{@HomeController.GetControlTextByControlId("View_Documents");}</span> </th*@
                                                                                    <th><span>Instution</span> </th>                                                                                     @*<th><span>@{@HomeController.GetControlTextByControlId("View_Documents");}</span> </th*@
                                                                                    <th><span>@{@HomeController.GetControlTextByControlId("Action");}</span> </th>
                                                                                </tr>
                                                                            </thead>
                                                                            @*<tbody class="tbody">
                                                                                    @{
                                                                                        int LL = 1;
                                                                                        foreach (var item in @ViewBag.allInsApoinments as IEnumerable<Generalate.Models.InstutionAppointments>)
                                                                                        {
                                                                                            <tr>
                                                                                                <td>@LL</td>
                                                                                                <td>@item.FromDate</td>
                                                                                                <td>@item.ToDate</td>3
                                                                                                <td>@item.Name</td>
                                                                                                <td>@item.AppointmentType</td>
                                                                                                <td>@item.InsDesignationType</td>
                                                                                                <td>@item.InstitutionType</td>

                                                                                                <td>
                                                                                                    @{
                                                                                                        var isPermissionAppoinmentEdit = tabPermissions.FirstOrDefault(x => x.TabName == "AppoinmentEdit");
                                                                                                        if (isPermissionAppoinmentEdit != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-edit InsAppointmentEdit"></i></button>
                                                                                                        }

                                                                                                        var isPermissionAppoinmentDelete = tabPermissions.FirstOrDefault(x => x.TabName == "AppoinmentDelete");
                                                                                                        if (isPermissionAppoinmentDelete != null)
                                                                                                        {
                                                                                                            <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-trash-o InsAppointmentDelete"></i></button>
                                                                                                        }
                                                                                                        <button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="@item.Id" class="fa fa-eye InsAppointmentView"></i></button>
                                                                                                    }
                                                                                                </td>
                                                                                            </tr>
                                                                                            LL++;
                                                                                        }
                                                                                    }
                                                                                </tbody>*@
                                                                        </table>
                                                                    </div>
                                                                </div>


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>
@section scripts
        {
    <script src="~/Content/Dropdown3/fSelect.js"></script>
    <script src="~/Content/Dropdown3/ikrPluginsForfSelect.js"></script>


    <script src="~/css/DropDownSelect2/dist/js/select2.min.js"></script>
    <script src="~/css/Dashboard/addmember.js"></script>
    <script src="~/Scripts/additional/AddAcademic.js"></script>
    <script src="~/Scripts/additional/Healths.js"></script>
    <script src="~/Scripts/additional/FamilyDetailsJS.js"></script>
    <script src="~/css/Dashboard/FormationJS.js"></script>
    <script src="~/Scripts/CompainsJS.js"></script>
    <script src="~/Content/multiple-select.min.js"></script>
    <script src="~/Scripts/additional/AppointmentJS.js"></script>

    <script src="~/Scripts/additional/MemberInfoById.js"></script>
    <script type="text/javascript">

        function CommunityAppointmentTbl() {
            $('#AppointTbl').DataTable().destroy();
            var provincename = $("#ProvinceDrop1").val();
            var memberid = $("#persionNames").val();
            datatable = $('#AppointTbl')
                .DataTable({
                    "sAjaxSource": "/Member/GetAllCommAppointmentServerSidePagination?provincename=" + provincename + "&memberid=" + memberid,
                    "retrieve": true,
                    "bServerSide": true,
                    "bProcessing": true,
                    "bSearchable": false,
                    "order": [[1, 'asc']],
                    "autoWidth": false,
                    "columns": [
                        {
                            "data": "FromDate",
                            "autoWidth": false,
                            "width": "50px",
                            "searchable": true
                        },
                        {
                            "data": "ToDate",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        {
                            "data": "Name",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        //{
                        //    "data": "AppointmentType",
                        //    "autoWidth": false,
                        //    "width": "100px",
                        //    "searchable": true
                        //},
                        {
                            "data": "CommunityType",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        {
                            "data": "DesignationType",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        {
                            "data": "Id",
                            "autoWidth": true,
                            "width": "100px",
                            "searchable": true,
                            "render": function (data, type, row) {
                                if (data != null && data != '') {
                                    return '<button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="' + data + '" class="fa fa-edit AppointmentEdit" onclick=updateCommAppointment(' + data + ')></i></button><button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="' + data + '" class="fa fa-trash-o AppointmentDelete" onclick=deleteCommAppointment(' + data + ')></i></button><button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="' + data + '" class="fa fa-eye AppointmentView" onclick=viewCommAppointment(' + data + ')></i></button>';
                                }
                            }
                        }
                    ]

                })
        }

        $("#persionNames_ins").change(function () {
            LoadInstitutionTbl();
        });
        function LoadInstitutionTbl() {

            $('#IAppointTbl').DataTable().destroy();
            var provincename = $("#ProvinceDrop1_ins").val();
            var memberid = $("#persionNames_ins").val();
            datatable = $('#IAppointTbl')
                .DataTable({
                    "sAjaxSource": "/Member/GetAllAppointmentsServerSidePagination?provincename=" + provincename + "&memberid=" + memberid,
                    "retrieve": true,
                    "bServerSide": true,
                    "bProcessing": true,
                    "bSearchable": false,
                    "order": [[1, 'asc']],
                    "autoWidth": false,
                    "columns": [
                        {
                            "data": "FromDate",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        {
                            "data": "ToDate",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        {
                            "data": "Name",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        //{
                        //    "data": "AppointmentType",
                        //    "autoWidth": false,
                        //    "width": "100px",
                        //    "searchable": true
                        //},
                        {
                            "data": "InsDesignationType",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        {
                            "data": "InstitutionType",
                            "autoWidth": false,
                            "width": "100px",
                            "searchable": true
                        },
                        {
                            "data": "Id",
                            // "autoWidth": true,
                            //"width": "100px",
                            "searchable": true,
                            "render": function (data, type, row) {
                                if (data != null && data != '') {
                                    return '<button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="' + data + '" class="fa fa-edit AppointmentEdit" onclick=updateInstAppointment(' + data + ')></i></button><button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="' + data + '" class="fa fa-trash-o AppointmentDelete" onclick=deleteInstAppointment(' + data + ')></i></button><button><i style="font-size:12px; color:#29b2e1; cursor:pointer;" data-val="' + data + '" class="fa fa-eye AppointmentView" onclick=viewInstAppointment(' + data + ')></i></button>';
                                }
                            }
                        }
                    ]

                })
        }
        CommunityAppointmentTbl();
        LoadInstitutionTbl();
        //$('#IappoOSPro').select2();
        $('#testDrp').multipleSelect({
            width: 350,
            allSelectedText: 'All'
        });

        function LoadInstitutionDiocese() {
            var Id = $("#IappoDiocese option:selected").val();
            // debugger;
            $.ajax({
                url: "/Member/GetDioceseById",//GetDocType",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                data: { Id: Id },
                success: function (data) {
                    // debugger;
                    // alert("test")
                    var DDInstitutionDiocese = [];
                    DDInstitutionDiocese.push({ id: '0', text: '-- Select  --' });
                    for (var i = 0; i < data.length; i++) {
                        DDInstitutionDiocese.push({ id: data[i].InstName, text: data[i].InstName });
                    }
                    for (var i = 1; i <= PresentProvinceCnt; i++) {
                        $("#InstitutionType_" + i).html('').select2({
                            data: DDInstitutionDiocese
                        });
                    }

                },
                error: function (er) {
                }
            });
        }
        function LoadInstitudeCongregation() {
            var Name = $("#IappoOSCong option:selected").text();
            // debugger;
            $.ajax({
                url: "/Member/GetCongregationById",//GetDocType",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                data: { Name: Name },
                success: function (data) {
                    // debugger;
                    var DDInstitutionCong = [];
                    DDInstitutionCong.push({ id: '0', text: '-- Select  --' });
                    for (var i = 0; i < data.length; i++) {
                        DDInstitutionCong.push({ id: data[i].InstName, text: data[i].InstName });
                    }
                    for (var i = 1; i <= PresentProvinceCnt; i++) {
                        $("#InstitutionType_" + i).html('').select2({
                            data: DDInstitutionCong
                        });
                    }

                },
                error: function (er) {
                }
            });
        }


        var presentProvinceName = 'PresentProvince';
        //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "200") {
            $("#mymessage").html("<b>Data saved successfully !</b>");
            $("#mymessage").css("color", "green");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
        function LoadInstitutionById(id, isEdit = false) {

            var proID = $('#IappoOSPro').val();
            var isPresentProvince = false;            
            if ($("#IRDPresentProvince").prop("checked") == true) {
                isPresentProvince = true;
            }

            if (proID == "0" || isPresentProvince) {
                proID = $("#ProvinceDrop1_ins").val();
            }

            var appointmentType = "";
            var appointmentTypeId = "";
            if ($("#IRDDiocese").prop("checked") == true) {
                appointmentType = "Diocese";
                appointmentTypeId = $('#IappoDiocese').val();
            }
            if ($("#IRDMyGen").prop("checked") == true) {
                return LoadGeneralate();
            }
            if ($("#IRDDiocese").prop("checked") == true) {
                return LoadInstitutionDiocese();
            }
            if ($("#IRDOtherProvince").prop("checked") == true) {
                return LoadInstitudeCongregation();
            }
            else if ($("#IRDOtherProvince").prop("checked") == true) {
                appointmentType = "OS";
                appointmentTypeId = $('#IappoOSCong').val();
            }            
            $.ajax({
                url: "/Member/GetInstitutionType1",//GetDocType",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                async: false,
                data: { proId: proID, appointmentType: appointmentType, appointmentTypeId: appointmentTypeId, isPresentProvince: isPresentProvince },
                success: function (response2) {
                    var DDInstitutionType1 = [];
                    $("#InstitutionType_" + id).html('').select2({ data: [{ id: '', text: '' }] });
                    DDInstitutionType1.push({ id: '0', text: '-- Select  --' });

                    if (appointmentType == "Diocese") {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].NIdame.trim(), text: response2[i].Name });
                        }
                    }
                    else if (appointmentType == "OS") {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].NIdame.trim(), text: response2[i].Name });
                        }
                    }
                    else if (appointmentType == "Gen") {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].NIdame.trim(), text: response2[i].Name });
                        }
                    }
                    else {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].Name.trim(), text: response2[i].Name });
                        }
                    }
                    if (id == "0") {
                        for (var i = 1; i <= PresentProvinceCnt; i++) {
                            $("#InstitutionType_" + i).html('').select2({ data: [{ id: '', text: '' }] });
                            //DDInstitutionType1.push({ id: '0', text: '-- Select  --' });
                            $("#InstitutionType_" + i).html('').select2({
                                data: DDInstitutionType1
                            });
                        }
                    }
                    else {
                        $("#InstitutionType_" + id).html('').select2({
                            data: DDInstitutionType1
                        });
                    }

                    if (isEdit) {
                        return true;
                    }
                },
                error: function (er) {
                    if (isEdit) {
                        return true;
                    }
                }
            });
        }
        function RemoveRow() {
            for (var i = 1; i <= PresentProvinceCnt; i++) {
                if ($("#check_" + i).prop('checked') == true) {
                    $("#row_" + i).remove();
                }
            }
        }
    </script>
    <script>
        //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "204") {
            $("#mymessage").html("<b>Some Error Occured !</b>");
            $("#mymessage").css("color", "red");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>
    <script>
        //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "201") {
            $("#mymessage").html("<b>Data Updated Successfully !</b>");
            $("#mymessage").css("color", "green");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>
    <script>
        //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "202") {
            $("#mymessage").html("<b>Data Deleted Successfully !</b>");
            $("#mymessage").css("color", "blue");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>
    <script>
        //debugger;
        var iscode = $.cookie("iscode");
        if (iscode == "203") {
            $("#mymessage").html("<b> Please Select Stage Of Formation! </b>");
            $("#mymessage").css("color", "Red");
            $('#myalertbox').modal({
                backdrop: 'static'
            });
            $("#myalertbox").modal("show");
            $.cookie('iscode', null, { path: '/' })
        }
        $(".closemodel").on("click", function () {
            location.reload();
        });
    </script>

    <script>
        var isInstutionAppointment = false;
        function openCity(evt, cityName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(cityName).style.display = "block";
            evt.currentTarget.className += " active";

            isInstutionAppointment = ("InstutionAppointment" == cityName) ? true : false;
        }
    </script>
    <script>
        var PresentProvinceCnt = 0;
        //$("#PresentProvinceaddRow").on("click", function () {
        //    PresentProvinceCnt++;
        //    var newRow = "<tr>";
        //    //newRow += "<td>" + PresentProvinceCnt+"</td>";
        //    newRow += "<td><input type='checkbox' name='ischecked1' /></td>";
        //    newRow += "<td><select class='form-control InsDesignationType' id='InsDesignationType_" + PresentProvinceCnt + "' name='InsDesignationType1'></select></td>";
        //    newRow += "<td><select class='form-control InstitutionType' id='InstitutionType_" + PresentProvinceCnt + "' name='InstitutionType1'></select></td>";
        //    newRow += "</tr>";

        //    $("#formforPresentProvinceTbl tbody").append(newRow);
        //    funcBindsearchdropdown1();
        //});

        //$("#IPresentProvinceaddRow").on("click", function () {

        function AddIPresentProvinceaddRow(isEdit = false) {
            PresentProvinceCnt++;
            var newRow = "<tr id='row_" + PresentProvinceCnt + "'>";
            //newRow += "<td>" + PresentProvinceCnt+"</td>";
            newRow += "<td><input type='checkbox' id='check_" + PresentProvinceCnt + "' name = 'ischecked1' /></td > ";
            newRow += "<td><div class='form-group'><select class='InsDesignationType'  multiple='multiple' type='dropdown' id='InsDesignationType_" + PresentProvinceCnt + "' name='InsDesignationType' style='width: 350px!important; ' ></select></div></td>";
            //newRow += "<td><select class='form-control InsDesignationType' id='InsDesignationType_" + PresentProvinceCnt + "' name='InsDesignationType1'></select></td>";
            newRow += "<td><select class='InstitutionType' id='InstitutionType_" + PresentProvinceCnt + "' name='InstitutionType1' style='width: 350px!important;'></select></td>";
            newRow += "<td><input class='form-control' type='file' id='IApointfile_" + PresentProvinceCnt + "' name='doc' multiple accept='.jpg,.png,.jpeg,.png,.doc' max='5'></td>";
            newRow += "</tr>";

            $("#IformforPresentProvinceTbl tbody").append(newRow);
            // funcBindsearchdropdown1();
            if (isEdit) {
                $.when(LoadDesignationDwn(PresentProvinceCnt, isEdit), LoadInstitutionById(PresentProvinceCnt, isEdit)).done(function (a1, a2) {
                    return true;
                });
            }
            else {
                LoadDesignationDwn(PresentProvinceCnt);
                LoadInstitutionById(PresentProvinceCnt);
            }
        }
        // });


        function DioceseBasedLoadDD1() {
            $("#IformforPresentProvinceTbl tbody").html("");
            PresentProvinceCnt = 0;
            AddIPresentProvinceaddRow();
        }
        function OutSideCongBasedLoadDD1() {
            $("#IformforPresentProvinceTbl tbody").html("");
            PresentProvinceCnt = 0;
            AddIPresentProvinceaddRow();
        }

        var DDInsDesignationType = "";
        var DDInsDesignationType1 = [];
        var DDInstitutionType = "";
        var DDInstitutionType1 = [];

        function funcBindsearchdropdown1() {
            if (DDInsDesignationType == "" || PresentProvinceCnt == "1") {
                GetInsDesignationType();
                //GetInstitutionType();
                LoadInstitutionById("0");
            }
            else {
                $(".InsDesignationType").html('').select2({
                    data: DDInsDesignationType1
                });
                $(".InsDesignInstitutionTypeationType").html('').select2({
                    data: DDInstitutionType1
                });
                //  $('.InsDesignationType').append(DDInsDesignationType);
                //$('.InstitutionType').append(DDInstitutionType);
                //  $('.InsDesignationType,.InstitutionType').fSelect();

            }
        }
        function LoadDesignationDwn(id, isEdit = false) {
            //debugger;
            $.ajax({
                url: "/Member/GetInsDesignationType",//GetDocType",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response2) {

                    var insDesignationType = [];
                    html = '';
                    $.each(response2, function (index, elem) {
                        html += '<option value=' + elem.Name + '>' + elem.Name + '</option>';
                        insDesignationType.push({ val: elem.Name, text: elem.Name });

                    });

                    //$("#InsDesignationType_" + id).append(html);
                    //$("#InsDesignationType_" + id).multipleSelect({
                    //    width: 350,
                    //    allSelectedText: 'All'
                    //});

                    $("#InsDesignationType_" + id).ikrLoadfSelectCombo(
                        {
                            List: insDesignationType,
                            DisplayText: "text", //Display Property name
                            OtherProperties: "text,val", //OtherProperties means those properties of object that we need for use
                            PrimaryKey: "val", //PrimaryKey

                            //List: insDesignationType,
                            //DisplayText: "text", //Display Property name
                            //OtherProperties: "text,id", //OtherProperties means those properties of object that we need for use
                            //PrimaryKey: "id", //PrimaryKey
                        });

                    if (isEdit) {
                        return true;
                    }

                },
                error: function (er) {
                    if (isEdit) {
                        return true;
                    }
                }
            });
        }
        function GetInsDesignationType() {
            $.ajax({
                url: "/Member/GetInsDesignationType",//GetDocType",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response2) {
                    //var option = '<option value="0">-- Select --</option>';
                    //for (var i = 0; i < response2.length; i++) {
                    //    option += '<option value="' + response2[i].Name + '">' + response2[i].Name + '</option>';
                    //}
                    //DDInsDesignationType = option;
                    //$('.InsDesignationType').append(DDInsDesignationType);
                    //$('.InsDesignationType').fSelect();

                    //var DDInsDesignationType1 = [];
                    //$('.InsDesignationType').html('').select2({ data: [{ id: '', text: '' }] });
                    //DDInsDesignationType1.push({ id: '0', text: '-- Select  --' });

                    //for (var i = 0; i < response2.length; i++) {
                    //    DDInsDesignationType1.push({ id: response2[i].Name.trim(), text: response2[i].Name });
                    //}
                    //$(".InsDesignationType").html('').select2({
                    //    data: DDInsDesignationType1
                    //});

                    html = '';
                    $.each(response2, function (index, elem) {
                        html += '<option value=' + elem.Name + '>' + elem.Name + '</option>';
                    });

                    $('.InsDesignationType').append(html);
                },
                error: function (er) {
                }
            });
        }
        function GetInstitutionType() {

            //if ($('#ProvinceDrop1').val() == "0") {
            //    alert("Please select the Province Name");
            //    return false;
            //}
            var appointmentType = "";
            var appointmentTypeId = "";
            if ($("#IRDDiocese").prop("checked") == true) {
                appointmentType = "Diocese";
                appointmentTypeId = $('#IappoDiocese').val();
            }
            else if ($("#IRDOtherProvince").prop("checked") == true) {
                appointmentType = "OS";
                appointmentTypeId = $('#IappoOSCong').val();
            }
            $.ajax({
                url: "/Member/GetInstitutionType1",//GetDocType",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                data: { proId: $('#ProvinceDrop1_ins').val(), appointmentType: appointmentType, appointmentTypeId: appointmentTypeId },
                success: function (response2) {
                    //var option = '<option value="0">-- Select --</option>';
                    //if (appointmentType == "Diocese") {
                    //    for (var i = 0; i < response2.length; i++) {
                    //        option += '<option value="' + response2[i].id + '">' + response2[i].InstName + '</option>';
                    //    }
                    //}
                    //else if (appointmentType == "OS") {
                    //    for (var i = 0; i < response2.length; i++) {
                    //        option += '<option value="' + response2[i].id + '">' + response2[i].InstName + '</option>';
                    //    }
                    //}
                    //else if (appointmentType == "Gen") {
                    //    for (var i = 0; i < response2.length; i++) {
                    //        option += '<option value="' + response2[i].id + '">' + response2[i].ComOsName + '</option>';
                    //    }
                    //}
                    //else {
                    //    for (var i = 0; i < response2.length; i++) {
                    //        option += '<option value="' + response2[i].Id + '">' + response2[i].Name + '</option>';
                    //    }
                    //}
                    //DDInstitutionType = option;
                    //$('.InstitutionType').append(DDInstitutionType);
                    //$('.InstitutionType').fSelect();


                    var DDInstitutionType1 = [];
                    $('.InstitutionType').html('').select2({ data: [{ id: '', text: '' }] });
                    DDInstitutionType1.push({ id: '0', text: '-- Select  --' });

                    if (appointmentType == "Diocese") {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].NIdame.trim(), text: response2[i].Name });
                        }
                    }
                    else if (appointmentType == "OS") {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].NIdame.trim(), text: response2[i].Name });
                        }
                    }
                    else if (appointmentType == "Gen") {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].NIdame.trim(), text: response2[i].Name });
                        }
                    }
                    else {
                        for (var i = 0; i < response2.length; i++) {
                            DDInstitutionType1.push({ id: response2[i].Name.trim(), text: response2[i].Name });
                        }
                    }


                    $(".InstitutionType").html('').select2({
                        data: DDInstitutionType1
                    });

                },
                error: function (er) {
                }
            });
        }
        $(document).ready(function () {
            ;
            //alert("y")
            //$("#DesignationType").multipleSelect({
            //    width: 350,
            //    allSelectedText: 'All'
            //});
        });
        $(function () {
            debugger;
            //$('#InsDesignationType_1').fSelect();
            //$('#InsDesignationType').fSelect();
            //$('#InstitutionType_1').fSelect();
            // $('#DesignationType,#DesignationType1,#DesignationType2,#DesignationType3,#DesignationType4').fSelect();
            $('#InstitutionType,#InstitutionType1,#InstitutionType2,#InstitutionType3,#InstitutionType4').fSelect();
            //$('#CommunityType,#CommunityType111,#CommunityType22,#CommunityType33,#CommunityType44').fSelect();

            var allDate2 = [];
            var omObj2 = {};
            $('#CommunityType,#CommunityType111').html('').select2({ data: [{ id: '', text: '' }] });
            allDate2.push({ id: '0', text: '-- Select  --' });
            var ddVal = $('#CommunityTypeList_1').val().split('~N');

            for (var i = 0; i < ddVal.length; i++) {
                allDate2.push({ id: ddVal[i], text: ddVal[i] });
            }
            $("#CommunityType,#CommunityType111").html('').select2({
                data: allDate2
            });


            //
            allDate2 = [];
            $('#CommunityType44').html('').select2({ data: [{ id: '', text: '' }] });
            allDate2.push({ id: '0', text: '-- Select  --' });
            var ddValId = $('#CommunityTypeList_Id44').val().split('~N');
            ddVal = $('#CommunityTypeList_44').val().split('~N');

            for (var i = 0; i < ddVal.length; i++) {
                allDate2.push({ id: ddValId[i], text: ddVal[i] });
            }
            $("#CommunityType44").html('').select2({
                data: allDate2
            });

            allDate2 = [];
            $('#CommunityType33').html('').select2({ data: [{ id: '', text: '' }] });
            allDate2.push({ id: '0', text: '-- Select  --' });
            var ddValId = $('#CommunityTypeList_Id33').val().split('~N');
            ddVal = $('#CommunityTypeList_33').val().split('~N');

            for (var i = 0; i < ddVal.length; i++) {
                allDate2.push({ id: ddValId[i], text: ddVal[i] });
            }
            $("#CommunityType33").html('').select2({
                data: allDate2
            });

            //
            allDate2 = [];
            $('#ISGGeneralate').html('').select2({ data: [{ id: '', text: '' }] });
            allDate2.push({ id: '0', text: '-- Select  --' });
            var ddValId = $('#ISGGeneralate_Id1').val().split('~N');
            ddVal = $('#ISGGeneralate_1').val().split('~N');

            for (var i = 0; i < ddVal.length; i++) {
                allDate2.push({ id: ddValId[i], text: ddVal[i] });
            }
            $("#ISGGeneralate").html('').select2({
                data: allDate2
            });
            //

            //allDate2 = [];
            //$('#IappoOSCong').html('').select2({ data: [{ id: '', text: '' }] });
            //allDate2.push({ id: '0', text: '-- Select  --' });
            //var ddValId = $('#IappoOSCong_Id1').val().split('~N');
            //ddVal = $('#IappoOSCong_1').val().split('~N');

            //for (var i = 0; i < ddVal.length; i++) {
            //    allDate2.push({ id: ddValId[i], text: ddVal[i] });
            //}
            //$("#IappoOSCong").html('').select2({
            //    data: allDate2
            //});



            //$('#DesignationType').fSelect().multipleSelect({
            //    width: 550,
            //    allSelectedText: 'All',
            //    //fSelect
            //});
            var designationType = [];            
            var ddVal = $('#DesignationType_1').val().split('~N');

            for (var i = 0; i < ddVal.length; i++) {
                designationType.push({ id: ddVal[i], text: ddVal[i] });
            }
            //debugger;
            $("#DesignationType,#DesignationType1,#DesignationType2,#DesignationType3,#DesignationType4").ikrLoadfSelectCombo(
                {
                    List: designationType,
                    DisplayText: "text", //Display Property name
                    OtherProperties: "text,val", //OtherProperties means those properties of object that we need for use
                    PrimaryKey: "val", //PrimaryKey
                });
            
            //  alert("test");

            //$('#DesignationType,#DesignationType1,#DesignationType2,#DesignationType3,#DesignationType4').multipleSelect({
            //    width: 350,
            //    allSelectedText: 'All',
            //    columns: 1,
            //    search: true,

            //});


            //$('#CommunityType,#CommunityType111,#CommunityType22,#CommunityType33,#CommunityType44').multipleSelect({
            //    width: 350,
            //    allSelectedText: 'All'
            //});
            // $('#InsDesignationType_1,#InsDesignationType,#InstitutionType_1').multipleSelect({
            //$('#InsDesignationType_1,#InsDesignationType').multipleSelect({
            //    width: 350,
            //    allSelectedText: 'All'
            //});
        });

        function LoadDesignationDwnForCommunity(isPresentProvince) {
            //debugger;
            var idName = '';
            if (isPresentProvince) {
                idName = 'DesignationType';
            }
            else {
                idName = 'DesignationType1';
            }

            var designationType = [];            
            var ddVal = $('#DesignationType_1').val().split('~N');

            for (var i = 0; i < ddVal.length; i++) {
                designationType.push({ id: ddVal[i], text: ddVal[i] });
            }
            //debugger;
            $("#" + idName).ikrLoadfSelectCombo(
                {
                    List: designationType,
                    DisplayText: "text", //Display Property name
                    OtherProperties: "text,val", //OtherProperties means those properties of object that we need for use
                    PrimaryKey: "val", //PrimaryKey
                });

            //$.ajax({
            //    url: "/Member/GetInsDesignationType",//GetDocType",
            //    type: "GET",
            //    contentType: "application/json;charset=utf-8",
            //    dataType: "json",
            //    async: false,
            //    success: function (response2) {

            //        var designationType = [];
            //        html = '';
            //        $.each(response2, function (index, elem) {
            //            html += '<option value=' + elem.Name + '>' + elem.Name + '</option>';
            //            designationType.push({ id: elem.Name, text: elem.Name });

            //        });                    
            //        var idName = '';
            //        if (isPresentProvince) {
            //            idName = 'DesignationType';
            //        }
            //        else {
            //            idName = 'DesignationType1';                    
            //        }

            //        $("#" + idName).ikrLoadfSelectCombo(
            //            {
            //                List: designationType,
            //                DisplayText: "text", //Display Property name
            //                OtherProperties: "text,val", //OtherProperties means those properties of object that we need for use
            //                PrimaryKey: "val", //PrimaryKey
            //            });

            //    },
            //    error: function (er) {
            //    }
            //});
        }

    </script>
    <script>
        $("#AppointmentType").val("PresentProvince");
        $('#RDPresentProvince').click(function () {

            if ($(this).prop("checked") == true) {                
                $("#RDMyGen").attr("checked", false);
                $("#RDOSPro").attr("checked", false);
                $("#RDDiocese").attr("checked", false);
                $("#RDOtherProvince").attr("checked", false);
                $("#AppointmentType").val("PresentProvince");
                //$('#CommunityType').val("-- Select --").change();
                if ($('#CommunityType').val() == "0") {
                    $('#CommunityType').val("0").change();
                }
                else if ($('#CommunityType').val() != "-- Select --") {
                    $('#CommunityType').val("-- Select --").change();
                }
                PresentProvinceBasedPopup();
                //$('#ProvinceDrop1').val('0');
                $('#appoOSPro').val('');  
                //LoadDesignationDwnForCommunity(true);
            }
        });
        $('#RDMyGen').click(function () {
            if ($(this).prop("checked") == true) {
                $("#RDOSPro").attr("checked", false);
                $("#RDDiocese").attr("checked", false);
                $("#RDPresentProvince").attr("checked", false);
                $("#RDOtherProvince").attr("checked", false);
                $("#AppointmentType").val("MyGen");
                // $("#AppointmentType").val("OSPro");
            }
        });
        $('#RDOSPro').click(function () {
            if ($(this).prop("checked") == true) {
                $("#RDPresentProvince").attr("checked", false);
                $("#RDDiocese").attr("checked", false);
                $("#RDOtherProvince").attr("checked", false);
                $("#RDMyGen").attr("checked", false);
                // $("#AppointmentType").val("MyGen");
                $("#AppointmentType").val("OSPro");
                //$('#ProvinceDrop1').val('0');
                //GetAllProvince1();
                $('#appoOSPro').val('');
                //LoadDesignationDwnForCommunity(false);
                var allCommunityData = [];
                $('#CommunityType111').html('').select2({ data: [{ id: '', text: '' }] });
                allCommunityData.push('-- Select --');

                $("#CommunityType111").html('').select2({
                    data: allCommunityData
                });

                if ($('#CommunityType111').val() == "0") {
                    $('#CommunityType111').val("0").change();
                }
                else if ($('#CommunityType111').val() != "-- Select --") {
                    $('#CommunityType111').val("-- Select --").change();
                }
            }
        });
        $('#RDDiocese').click(function () {
            if ($(this).prop("checked") == true) {
                $("#RDOSPro").attr("checked", false);
                $("#RDPresentProvince").attr("checked", false);
                $("#RDOtherProvince").attr("checked", false);
                $("#RDMyGen").attr("checked", false);
                $("#AppointmentType").val("Diocese");
            }
        });
        $('#RDOtherProvince').click(function () {
            if ($(this).prop("checked") == true) {
                $("#RDOSPro").attr("checked", false);
                $("#RDDiocese").attr("checked", false);
                $("#RDPresentProvince").attr("checked", false);
                $("#RDMyGen").attr("checked", false);
                $("#AppointmentType").val("OtherProvince");
            }
        });

        $("#RDPresentProvince").change(function () {
            //debugger;
            $("#Institutiondiv").css("display", "block");
            $("#Institutiondiv1").css("display", "none");
            $("#Institutiondiv2").css("display", "none");
            $("#Institutiondiv3").css("display", "none");
            $("#Institutiondiv4,#SGGeneralateDiv").css("display", "none");


            $("#Communitydiv").css("display", "block");
            $("#Communitydiv11").css("display", "none");
            $("#Communitydiv22").css("display", "none");
            $("#Communitydiv33").css("display", "none");
            $("#Communitydiv44").css("display", "none");


            $("#Diodiv").css("display", "none");
            $("#Parishdiv").css("display", "none");
            $("#OSCongPro").css("display", "none");
            $("#OSCongName").css("display", "none");
            $("#OSPro").css("display", "none");
            $("#Desidiv").css("display", "block");
        });
        $("#RDOSPro").change(function () {
            //debugger;
            $("#Institutiondiv").css("display", "none");
            $("#Institutiondiv1").css("display", "block");
            $("#Institutiondiv2").css("display", "none");
            $("#Institutiondiv3").css("display", "none");
            $("#Institutiondiv4,#SGGeneralateDiv").css("display", "none");

            $("#Communitydiv").css("display", "none");
            $("#Communitydiv11").css("display", "block");
            $("#Communitydiv22").css("display", "none");
            $("#Communitydiv33").css("display", "none");
            $("#Communitydiv44").css("display", "none");

            $("#Desidiv").css("display", "none");
            $("#Diodiv").css("display", "none");
            $("#Parishdiv").css("display", "none");
            $("#OSCongPro").css("display", "none");
            $("#OSCongName").css("display", "none");
            $("#OSPro").css("display", "block");
        });
        $("#RDDiocese").change(function () {
            //debugger;
            $("#Institutiondiv").css("display", "none");
            $("#Institutiondiv1").css("display", "none");
            $("#Institutiondiv2").css("display", "block");
            $("#Institutiondiv3").css("display", "none");
            $("#Institutiondiv4,#SGGeneralateDiv").css("display", "none");

            $("#Communitydiv").css("display", "none");
            $("#Communitydiv11").css("display", "none");
            $("#Communitydiv22").css("display", "block");
            $("#Communitydiv33").css("display", "none");
            $("#Communitydiv44").css("display", "none");

            $("#Desidiv").css("display", "none");
            $("#Diodiv").css("display", "block");
            $("#Parishdiv").css("display", "block");
            $("#OSCongPro").css("display", "none");
            $("#OSCongName").css("display", "none");
            $("#OSPro").css("display", "none");
        });
        $("#RDOtherProvince").change(function () {
            //debugger;
            $("#Institutiondiv").css("display", "none");
            $("#Institutiondiv1").css("display", "none");
            $("#Institutiondiv2").css("display", "none");
            $("#Institutiondiv3").css("display", "block");
            $("#Institutiondiv4,#SGGeneralateDiv").css("display", "none");

            $("#Communitydiv").css("display", "none");
            $("#Communitydiv11").css("display", "none");
            $("#Communitydiv22").css("display", "none");
            $("#Communitydiv33").css("display", "block");
            $("#Communitydiv44").css("display", "none");

            $("#Desidiv").css("display", "none");
            $("#Diodiv").css("display", "none");
            $("#Parishdiv").css("display", "none");
            $("#OSCongPro").css("display", "block");
            $("#OSCongName").css("display", "block");
            $("#OSPro").css("display", "none");
        });
        $("#RDMyGen").change(function () {
            //debugger;
            $("#Institutiondiv").css("display", "none");
            $("#Institutiondiv1").css("display", "none");
            $("#Institutiondiv2").css("display", "none");
            $("#Institutiondiv3").css("display", "none");
            $("#Institutiondiv4,#SGGeneralateDiv").css("display", "block");

            $("#Communitydiv").css("display", "none");
            $("#Communitydiv11").css("display", "none");
            $("#Communitydiv22").css("display", "none");
            $("#Communitydiv33").css("display", "none");
            $("#Communitydiv44").css("display", "block");

            $("#Desidiv").css("display", "none");
            $("#Diodiv").css("display", "none");
            $("#Parishdiv").css("display", "none");
            //  $("#OSCongPro").css("display", "block");
            $("#OSCongName").css("display", "none");
            $("#OSPro").css("display", "none");

        });
        function LoadGeneralate() {
             var dwnGeneralete = '@Html.Raw(Json.Encode(ViewBag.InstitutionName14))';
            var data = JSON.parse(dwnGeneralete);
            var DDInstitutionGenetalate = [];
            DDInstitutionGenetalate.push({ id: '0', text: '-- Select  --' });
            for (var i = 0; i < data.length; i++) {
                DDInstitutionGenetalate.push({ id: data[i].Name, text: data[i].Name });
            }
            for (var i = 1; i <= PresentProvinceCnt; i++) {
                $("#InstitutionType_"+i).html('').select2({
                    data: DDInstitutionGenetalate
                });
            }
        }
        $("#ISGGeneralate").on("change", function () {
            LoadGeneralate();

        });

        //$("#ProvinceDrop1").on("change", function () {
        //    var province = $("#ProvinceDrop1 option:selected").val();
        //    GetAllPersions(province);
        //});

        //function GetAllPersions(province) {
        //    debugger;
        //    // alert("hhjk")
        //    var isPresentProvinceSelected = $('#RDPresentProvince')[0].checked;
        //    $.ajax({
        //        url: "/Home/GetAllPersions?province=" + province + "&isPresentProvinceSelected=" + isPresentProvinceSelected,
        //        type: "GET",
        //        contentType: "application/json;charset=utf-8",
        //        dataType: "json",
        //        async: false,
        //        success: function (response) {
        //            // alert("")
        //            var allPersonData = [];
        //            var allCommunityData = [];
        //            debugger;
        //            if (response.length > 0) {
        //                if (response.PersonDetails.length > 0) {
        //                    $('#persionNames').html('').select2({ data: [{ id: '', text: '' }] });
        //                    allPersonData.push({ id: '0', text: '-- Select Name --' });
        //                    for (var i = 0; i < response.PersonDetails.length; i++) {
        //                        allPersonData.push({ id: response.PersonDetails[i].MemberID, text: response.PersonDetails[i].Name + " " + response.PersonDetails[i].SirName });
        //                    }
        //                }
        //                if (isPresentProvinceSelected) {
        //                    if (response.CommunityDetails.length > 0) {
        //                        $('#CommunityType').html('').select2({ data: [{ id: '', text: '' }] });
        //                        allCommunityData.push({ id: '0', text: '-- Select --' });
        //                        for (var i = 0; i < response.CommunityDetails.length; i++) {
        //                            allCommunityData.push({ id: i, text: response.CommunityDetails[i] });
        //                        }
        //                    }
        //                }
        //            }
        //            $("#persionNames").html('').select2({
        //                data: allPersonData
        //            });

        //            if (isPresentProvinceSelected)
        //                $("#CommunityType").html('').select2({
        //                    data: allCommunityData
        //                });
        //        },
        //        error: function (er) {
        //        }
        //    });
        //}

        $(document).ready(function () {
            GetAllProvince1();
        });

        $('#InstutionAppointment1').on('click', function () {
            GetAllProvinceForInstitution(); 
            $('#persionNames_ins').html('')
        });

        function GetAllProvinceForInstitution() {
            $.ajax({
                url: "/Home/GetAllProvince",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response) {
                    if (response.length > 0) {
                        var allData = [];                        
                        $('#ProvinceDrop1_ins').html('').select2({ data: [{ id: '', text: '' }] });
                        allData.push({ id: '0', text: '-- All Province --' });
                        for (var i = 0; i < response.length; i++) {
                            allData.push({ id: response[i].Id, text: response[i].ProvinceName + " " + response[i].Place });
                        }
                        $("#ProvinceDrop1_ins").html('').select2({
                            data: allData
                        });
                        $('.select2').css("width", "100%");
                    }
                },
                error: function (er) {
                }
            });
        }

        function GetAllProvince1() {
            $.ajax({
                url: "/Home/GetAllProvince",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response2) {
                    if (response2.length > 0) {
                        var allDate2 = [];
                        var omObj2 = {};
                        $('#ProvinceDrop1').html('').select2({ data: [{ id: '', text: '' }] });
                        allDate2.push({ id: '0', text: '-- All Province --' });
                        for (var i = 0; i < response2.length; i++) {
                            allDate2.push({ id: response2[i].Id, text: response2[i].ProvinceName + " " + response2[i].Place });
                        }
                        $("#ProvinceDrop1").html('').select2({
                            data: allDate2
                        });
                    }
                },
                error: function (er) {
                }
            });
        }

        function ChangeProvinceDrop() {
            //debugger;
            $('#ProvinceName').val($('#ProvinceDrop1').val());
            presentProvinceName = $('#ProvinceDrop1').val();


            var province = $("#ProvinceDrop1 option:selected").val();
            GetAllPersions(province);

            if (isInstutionAppointment == true) {
                $("#IformforPresentProvinceTbl tbody").html("");
                PresentProvinceCnt = 0;
                AddIPresentProvinceaddRow();
            }
            CommunityAppointmentTbl();
        }

        function ChangeProvinceDropForIns() {
            $('#ProvinceName').val($('#ProvinceDrop1_ins').val());
            presentProvinceName = $('#ProvinceDrop1_ins').val();

            var province = $("#ProvinceDrop1_ins option:selected").val();
            GetAllPersionsForIns(province);

            if (isInstutionAppointment == true) {
                $("#IformforPresentProvinceTbl tbody").html("");
                PresentProvinceCnt = 0;
                AddIPresentProvinceaddRow();
            }

            LoadInstitutionTbl();
        }

        $("#persionNames").change(function () {

            CommunityAppointmentTbl();
        });

        function ChangePersionName() {
           
            $('#AppMemberId').val($('#persionNames').val());
            $('#AppMemberName').val($('#persionNames option:selected').text());
            CommunityAppointmentTbl();
        }
        
        function ChangePersionNameForIns() {
            $('#AppMemberId').val($('#persionNames_ins').val());
            $('#AppMemberName').val($('#persionNames_ins option:selected').text());
        }

        function SaveAppointment() {
            debugger;
            if ($('#ProvinceDrop1').val() == "") {
                alert("Please select the Province Name");
                return false;
            }
            if ($('#persionNames').val() == "") {
                alert("Please select the Primary Details");
                return false;
            }
            else if ($('#IRDOSPro').prop("checked") == true && $('#CommunityType111').val() == null) {
                alert("Please select the Community1 ");
                return false;
            }
            else if ($('#RDOtherProvince').prop("checked") == true && $('#RDOSPro').prop("checked") == true && $('#CommunityType33').val() == null) {
                alert("Please select the Community 2");
                return false;
            }
            else if ($('#RDPresentProvince').prop("checked") == true && ($('#CommunityType').val() == "0" || $('#CommunityType').val() == "")) {
                alert("Please select the Community Type3");
                return false;
            }

            return true;
        }

        function SaveAppointment1() {

            if ($('#CommunityType').val() == "0" || $('#CommunityType').val() == "") {
                alert("Please select the Community Type");
                return false;
            }
            else if ($('#RDOtherProvince').prop("checked") == true && $('#CommunityType33').val() == null) {
                alert("Please select the Community ");
                return false;
            }


            //
            var dosuccess1 = 0;

            var rows1 = 0;
            var countrow1 = $("#formforPresentProvinceTbl tr").length - 1;
            GetPresentProvinceGuid();

            for (var k = 1; k <= PresentProvinceCnt; k++) {

                if ($('#InsDesignationType_' + k).val() != undefined) {
                    var formdata = new FormData();
                    //<input type="hidden" name="Name" id="AppMemberName" value="A. Arul Joseph">
                    //    <input type="hidden" id="ProvinceName" name="ProvinceName" value="5b153612-36f1-ea11-8346-8cec4b7a5447" class="form-control">
                    //        <input type="hidden" name="MemberId" id="AppMemberId" value="INE/01">
                    //            <input type="hidden" name="Id" id="AppId" value="">
                    //                <input type="hidden" name="AppointmentType" id="AppointmentType" value="">


                    formdata.append('FromDate', $('#FromDateappo12').val());
                    formdata.append('ToDate', $('#ToDateappo12').val());
                    formdata.append('MemberId', $('#persionNames').val());
                    formdata.append('Name', $('#persionNames option:selected').text());
                    formdata.append('ProvinceName', $('#ProvinceDrop1').val());
                    //formdata.append('Id', $('#AppId').val());
                    //formdata.append('AppointmentType', $('#AppointmentType').val());

                    formdata.append('InsDesignationType', $('#InsDesignationType_' + k).val());
                    formdata.append('InstitutionType', $('#InstitutionType_' + k).val());

                    formdata.append('CommunityType', $('#CommunityType').val());
                    formdata.append('DesignationType', $('#DesignationType').val());
                    formdata.append('Description', $('#Description').val());

                    formdata.append('OptionGuid', _gId);
                    var fileUpload = $("#Apointfile1").get(0);
                    var files = fileUpload.files;

                    for (var i = 0; i < files.length; i++) {
                        formdata.append(files[i].name, files[i]);
                    }

                    addfileDAta1(formdata, countrow1);
                }
            }
            return false;
        }
        var _gId = "";
        function GetPresentProvinceGuid() {
            $.ajax({
                url: "/EntryLife/GetPresentProvinceGuid",
                type: "POST",
                dataType: "json",
                async: false,
                success: function (response) {
                    _gId = response;
                    return;
                }
            });
        }
        var dosuccess1 = 0;
        function addfileDAta1(dataVal, countrow) {
            $.ajax({
                url: "/EntryLife/SaveAppointment1",
                type: "POST",
                processData: false,
                contentType: false,
                data: dataVal,
                success: function (response) {
                    dosuccess1 = dosuccess1 + 1;
                    if (countrow == dosuccess1) {
                        $("#mymessage").html("<b>Data saved successfully !</b>");
                        $("#mymessage").css("color", "green");
                        $('#myalertbox').modal({
                            backdrop: 'static'
                        });
                        $("#myalertbox").modal("show");
                        $.cookie('iscode', null, { path: '/' })
                        $(".closemodel").on("click", function () {
                            location.reload();
                        });

                    }
                },
                error: function (er) {
                }
            });
        }

    </script>

    <script>
        $("#IAppointmentType").val("PresentProvince");

        $('#IRDPresentProvince').click(function () {

            if ($(this).prop("checked") == true) {                
                $("#IRDMyGen").attr("checked", false);
                $("#IRDOSPro").attr("checked", false);
                $("#IRDDiocese").attr("checked", false);
                $("#IRDOtherProvince").attr("checked", false);
                $("#IAppointmentType").val("PresentProvince");
                PresentProvinceBasedPopup();

                $("#IformforPresentProvinceTbl tbody").html("");
                PresentProvinceCnt = 0;
                AddIPresentProvinceaddRow();
                $('#IappoOSPro').val('');
            }
        });
        $('#IRDMyGen').click(function () {
            if ($(this).prop("checked") == true) {
                $("#IRDOSPro").attr("checked", false);
                $("#IRDDiocese").attr("checked", false);
                $("#IRDPresentProvince").attr("checked", false);
                $("#IRDOtherProvince").attr("checked", false);
                $("#IAppointmentType").val("MyGen");
                // $("#IAppointmentType").val("OSPro");

                $("#IformforPresentProvinceTbl tbody").html("");
                PresentProvinceCnt = 0;
                AddIPresentProvinceaddRow();
            }
        });
        $('#IRDOSPro').click(function () {           
            if ($(this).prop("checked") == true) {                
                $("#IRDPresentProvince").attr("checked", false);
                $("#IRDDiocese").attr("checked", false);
                $("#IRDOtherProvince").attr("checked", false);
                $("#IRDMyGen").attr("checked", false);
                // $("#IAppointmentType").val("MyGen");
                $("#IAppointmentType").val("OSPro");
                $("#IformforPresentProvinceTbl tbody").html("");
                PresentProvinceCnt = 0;
                AddIPresentProvinceaddRow();
                //GetAllProvinceForInstitution();
                $('#IappoOSPro').val('');
            }
        });
        $('#IRDDiocese').click(function () {
            if ($(this).prop("checked") == true) {
                $("#IRDOSPro").attr("checked", false);
                $("#IRDPresentProvince").attr("checked", false);
                $("#IRDOtherProvince").attr("checked", false);
                $("#IRDMyGen").attr("checked", false);
                $("#IAppointmentType").val("Diocese");

                $("#IformforPresentProvinceTbl tbody").html("");
                PresentProvinceCnt = 0;
                AddIPresentProvinceaddRow();

            }
        });
        $('#IRDOtherProvince').click(function () {
            if ($(this).prop("checked") == true) {
                $("#IRDOSPro").attr("checked", false);
                $("#IRDDiocese").attr("checked", false);
                $("#IRDPresentProvince").attr("checked", false);
                $("#IRDMyGen").attr("checked", false);
                $("#IAppointmentType").val("OtherProvince");

                $("#IformforPresentProvinceTbl tbody").html("");
                PresentProvinceCnt = 0;
                AddIPresentProvinceaddRow();
            }
        });

        $("#IRDPresentProvince").change(function () {
            //debugger;
            $("#IInstitutiondiv").css("display", "block");
            $("#IInstitutiondiv1").css("display", "none");
            $("#IInstitutiondiv2").css("display", "none");
            $("#IInstitutiondiv3").css("display", "none");
            $("#IInstitutiondiv4,#ISGGeneralateDiv").css("display", "none");


            $("#ICommunitydiv").css("display", "block");
            $("#ICommunitydiv11").css("display", "none");
            $("#ICommunitydiv22").css("display", "none");
            $("#ICommunitydiv33").css("display", "none");
            $("#ICommunitydiv44").css("display", "none");

            $("#IDiodiv").css("display", "none");
            $("#IParishdiv").css("display", "none");
            $("#IOSCongPro").css("display", "none");
            $("#IOSCongName").css("display", "none");
            $("#IOSPro").css("display", "none");
            $("#IDesidiv").css("display", "block");
        });
        $("#IRDOSPro").change(function () {
            //debugger;
            $("#IInstitutiondiv").css("display", "none");
            $("#IInstitutiondiv1").css("display", "block");
            $("#IInstitutiondiv2").css("display", "none");
            $("#IInstitutiondiv3").css("display", "none");
            $("#IInstitutiondiv4,#ISGGeneralateDiv").css("display", "none");

            $("#ICommunitydiv").css("display", "none");
            $("#ICommunitydiv11").css("display", "block");
            $("#ICommunitydiv22").css("display", "none");
            $("#ICommunitydiv33").css("display", "none");
            $("#ICommunitydiv44").css("display", "none");

            $("#IDesidiv").css("display", "none");
            $("#IDiodiv").css("display", "none");
            $("#IParishdiv").css("display", "none");
            $("#IOSCongPro").css("display", "none");
            $("#IOSCongName").css("display", "none");
            $("#IOSPro").css("display", "block");
        });
        $("#IRDDiocese").change(function () {
            //debugger;
            $("#IInstitutiondiv").css("display", "none");
            $("#IInstitutiondiv1").css("display", "none");
            $("#IInstitutiondiv2").css("display", "block");
            $("#IInstitutiondiv3").css("display", "none");
            $("#IInstitutiondiv4,#ISGGeneralateDiv").css("display", "none");

            $("#ICommunitydiv").css("display", "none");
            $("#ICommunitydiv11").css("display", "none");
            $("#ICommunitydiv22").css("display", "block");
            $("#ICommunitydiv33").css("display", "none");
            $("#ICommunitydiv44").css("display", "none");

            $("#IDesidiv").css("display", "none");
            $("#IDiodiv").css("display", "block");
            //$("#IParishdiv").css("display", "block");
            $("#IOSCongPro").css("display", "none");
            $("#IOSCongName").css("display", "none");
            $("#IOSPro").css("display", "none");
        });
        $("#IRDOtherProvince").change(function () {
            //debugger;
            $("#IInstitutiondiv").css("display", "none");
            $("#IInstitutiondiv1").css("display", "none");
            $("#IInstitutiondiv2").css("display", "none");
            $("#IInstitutiondiv3").css("display", "block");
            $("#IInstitutiondiv4,#ISGGeneralateDiv").css("display", "none");

            $("#ICommunitydiv").css("display", "none");
            $("#ICommunitydiv11").css("display", "none");
            $("#ICommunitydiv22").css("display", "none");
            $("#ICommunitydiv33").css("display", "block");
            $("#ICommunitydiv44").css("display", "none");

            $("#IDesidiv").css("display", "none");
            $("#IDiodiv").css("display", "none");
            $("#IParishdiv").css("display", "none");
            $("#IOSCongPro").css("display", "none");
            $("#IOSCongName").css("display", "block");
            $("#IOSPro").css("display", "none");
        });
        $("#IRDMyGen").change(function () {
            //debugger;
            $("#IInstitutiondiv").css("display", "none");
            $("#IInstitutiondiv1").css("display", "none");
            $("#IInstitutiondiv2").css("display", "none");
            $("#IInstitutiondiv3").css("display", "none");
            $("#IInstitutiondiv4,#ISGGeneralateDiv").css("display", "block");

            $("#ICommunitydiv").css("display", "none");
            $("#ICommunitydiv11").css("display", "none");
            $("#ICommunitydiv22").css("display", "none");
            $("#ICommunitydiv33").css("display", "none");
            $("#ICommunitydiv44").css("display", "block");

            $("#IDesidiv").css("display", "none");
            $("#IDiodiv").css("display", "none");
            $("#IParishdiv").css("display", "none");
            //  $("#IOSCongPro").css("display", "block");
            $("#IOSCongName").css("display", "none");
            $("#IOSPro").css("display", "none");

        });


        //$("#ProvinceDrop1").on("change", function () {
        //    var province = $("#ProvinceDrop1 option:selected").val();
        //    GetAllPersions(province);

        //    if (isInstutionAppointment == true) {
        //        $("#IformforPresentProvinceTbl tbody").html("");
        //        PresentProvinceCnt = 0;
        //        AddIPresentProvinceaddRow();
        //    }
        //});

        function GetAllPersions(province) {
            //debugger;
            var isPresentProvinceSelected = $('#RDPresentProvince')[0].checked;
            $.ajax({
                url: "/Home/GetAllPersions?province=" + province + "&isPresentProvinceSelected=" + isPresentProvinceSelected,
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    // alert("")
                    var allPersonData = [];
                    var allCommunityData = [];
                    //debugger;

                    if (response.PersonDetails.length > 0) {
                        $('#persionNames').html('').select2({ data: [{ id: '', text: '' }] });
                        allPersonData.push({ id: '0', text: '-- Select Name --' });
                        for (var i = 0; i < response.PersonDetails.length; i++) {
                            allPersonData.push({ id: response.PersonDetails[i].MemberID, text: response.PersonDetails[i].Name + " " + response.PersonDetails[i].SirName });
                        }
                    }
                    if (isPresentProvinceSelected) {
                        //debugger;
                        if (response.CommunityDetails.length > 0) {
                            $('#CommunityType').html('').select2({ data: [{ id: '', text: '' }] });
                            allCommunityData.push('-- Select --');
                            for (var i = 0; i < response.CommunityDetails.length; i++) {
                                allCommunityData.push(response.CommunityDetails[i]);
                            }
                        }
                    }

                    $("#persionNames").html('').select2({
                        data: allPersonData
                    });

                    if (isPresentProvinceSelected)
                        $("#CommunityType").html('').select2({
                            data: allCommunityData
                        });
                },
                error: function (er) {
                }
            });
            //$.ajax({
            //    url: "/Home/GetAllPersions?province=" + province,
            //    type: "GET",
            //    contentType: "application/json;charset=utf-8",
            //    dataType: "json",
            //    async: false,
            //    success: function (response) {
            //        var allDate = [];
            //        if (response.length > 0) {
            //            var omObj = {};
            //            $('#persionNames').html('').select2({ data: [{ id: '', text: '' }] });
            //            allDate.push({ id: '0', text: '-- Select Name --' });
            //            for (var i = 0; i < response.length; i++) {
            //                allDate.push({ id: response[i].MemberID, text: response[i].Name + " " + response[i].SirName });
            //            }
            //        }
            //        $("#persionNames").html('').select2({
            //            data: allDate
            //        });
            //    },
            //    error: function (er) {
            //    }
            //});
        }

        function GetAllPersionsForIns(province) {
            //debugger;
            var isPresentProvinceSelected = $('#RDPresentProvince')[0].checked;
            $.ajax({
                url: "/Home/GetAllPersions?province=" + province + "&isPresentProvinceSelected=" + isPresentProvinceSelected,
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    // alert("")
                    var allPersonData = [];
                    var allCommunityData = [];
                    //debugger;

                    if (response.PersonDetails.length > 0) {
                        $('#persionNames_ins').html('').select2({ data: [{ id: '', text: '' }] });
                        allPersonData.push({ id: '0', text: '-- Select Name --' });
                        for (var i = 0; i < response.PersonDetails.length; i++) {
                            allPersonData.push({ id: response.PersonDetails[i].MemberID, text: response.PersonDetails[i].Name + " " + response.PersonDetails[i].SirName });
                        }
                    }
                    if (isPresentProvinceSelected) {
                        //debugger;
                        if (response.CommunityDetails.length > 0) {
                            $('#CommunityType').html('').select2({ data: [{ id: '', text: '' }] });
                            allCommunityData.push('-- Select --');
                            for (var i = 0; i < response.CommunityDetails.length; i++) {
                                allCommunityData.push(response.CommunityDetails[i]);
                            }
                        }
                    }

                    $("#persionNames_ins").html('').select2({
                        data: allPersonData
                    });

                    if (isPresentProvinceSelected)
                        $("#CommunityType").html('').select2({
                            data: allCommunityData
                        });
                },
                error: function (er) {
                }
            });
            //$.ajax({
            //    url: "/Home/GetAllPersions?province=" + province,
            //    type: "GET",
            //    contentType: "application/json;charset=utf-8",
            //    dataType: "json",
            //    async: false,
            //    success: function (response) {
            //        var allDate = [];
            //        if (response.length > 0) {
            //            var omObj = {};
            //            $('#persionNames').html('').select2({ data: [{ id: '', text: '' }] });
            //            allDate.push({ id: '0', text: '-- Select Name --' });
            //            for (var i = 0; i < response.length; i++) {
            //                allDate.push({ id: response[i].MemberID, text: response[i].Name + " " + response[i].SirName });
            //            }
            //        }
            //        $("#persionNames").html('').select2({
            //            data: allDate
            //        });
            //    },
            //    error: function (er) {
            //    }
            //});
        }

        $(document).ready(function () {
            GetAllProvince1();
        });

        function GetAllProvince1() {
            $.ajax({
                url: "/Home/GetAllProvince",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response2) {
                    if (response2.length > 0) {
                        var allDate2 = [];
                        var omObj2 = {};
                        $('#ProvinceDrop1').html('').select2({ data: [{ id: '', text: '' }] });
                        allDate2.push({ id: '0', text: '-- All Province --' });
                        for (var i = 0; i < response2.length; i++) {
                            allDate2.push({ id: response2[i].Id, text: response2[i].ProvinceName + " " + response2[i].Place });
                        }
                        $("#ProvinceDrop1").html('').select2({
                            data: allDate2
                        });
                    }
                },
                error: function (er) {
                }
            });
        }

        //function ChangeProvinceDrop() {
        //    debugger;
        //    $('#ProvinceName,#ProvinceName1').val($('#ProvinceDrop1').val());
        //    presentProvinceName = $('#ProvinceDrop1').val();

        //    var selectProvience = $("#ProvinceDrop1 option:selected").text();

        //    funcBindsearchdropdown1();
        //    $('#ProvinceName,#ProvinceName1').val($('#ProvinceDrop1').val());
        //    presentProvinceName = $('#ProvinceDrop1').val();

        //    $.ajax({
        //        url: "/Home/GetAllProvince",
        //        type: "GET",
        //        contentType: "application/json;charset=utf-8",
        //        dataType: "json",
        //        success: function (data) {
        //            if (data.length > 0) {
        //                var selectedProvience = $("#ProvinceDrop1 option:selected").text();
        //                var html = '';
        //                html += '<option value="0">--Select Province--</option>';
        //                $.each(data, function (index, elem) {
        //                    if (selectProvience.toLowerCase() != (elem.ProvinceName + " " + elem.Place).toLowerCase()) {
        //                        html += '<option value=' + elem.Id + '>' + elem.ProvinceName + " " + elem.Place + '</option>';
        //                    }
        //                });
        //                $("#IappoOSPro").html(html);
        //            }
        //        },
        //        error: function (er) {
        //        }
        //    });

        //    $('.InsDesignationType').multipleSelect({
        //        width: 350,
        //        allSelectedText: 'All',
        //        searchable: true
        //    });
        //}

        function ChangePersionName() {
            $('#AppMemberId,#AppMemberId1').val($('#persionNames').val());
            $('#AppMemberName,#AppMemberName1').val($('#persionNames option:selected').text());
        }
        function SaveAppointment() {

            if ($('#ProvinceDrop1').val() == "") {
                alert("Please select the Province Name");
                return false;
            }
            if ($('#persionNames').val() == "") {
                alert("Please select the Primary Details");
                return false;
            }
            else if ($('#RDOSPro').prop("checked") == true && $('#CommunityType111').val() == null) {
                alert($('#CommunityType111').val());
                alert("Please select the Community1 ");
                return false;
            }
            else if ($('#RDOtherProvince').prop("checked") == true && $('#RDOSPro').prop("checked") == true && $('#CommunityType33').val() == null) {
                alert("Please select the Community 2");
                return false;
            }
            else if ($('#RDPresentProvince').prop("checked") == true && ($('#CommunityType').val() == "0" || $('#CommunityType').val() == "")) {
                alert("Please select the Community Type3");
                return false;
            }

            return true;
        }

        function SaveInsAppointment1() {
            if ($('#ProvinceDrop1_ins').val() == "") {
                alert("Please select the Province Name");
                return false;
            }
            if ($('#persionNames_ins').val() == "") {
                alert("Please select the Primary Details");
                return false;
            }
            //if ($('#CommunityType').val() == "0" || $('#CommunityType').val() == "") {
            //    alert("Please select the Community Type");
            //    return false;
            //}
            //else if ($('#RDOtherProvince').prop("checked") == true && $('#CommunityType33').val() == null) {
            //    alert("Please select the Community ");
            //    return false;
            //}


            //
            var dosuccess1 = 0;

            var rows1 = 0;
            var countrow1 = $("#IformforPresentProvinceTbl tr").length - 1;
            GetPresentProvinceGuid();

            for (var k = 1; k <= PresentProvinceCnt; k++) {


                if ($('#InsDesignationType_' + k).val() != undefined) {
                    var formdata = new FormData();

                    formdata.append('FromDate', $('#IFromDateappo12').val());
                    formdata.append('ToDate', $('#IToDateappo12').val());
                    formdata.append('MemberId', $('#persionNames_ins').val());
                    formdata.append('Name', $('#persionNames_ins option:selected').text());
                    formdata.append('ProvinceName', $('#ProvinceDrop1_ins').val());
                    //formdata.append('Id', $('#AppId').val());
                    formdata.append('AppointmentType', $('#IAppointmentType').val());
                    formdata.append('InsDesignationType', $('#InsDesignationType_' + k).val());
                    formdata.append('InstitutionType', $('#InstitutionType_' + k).val());

                    //formdata.append('CommunityType', $('#ICommunityType').val());
                    //formdata.append('DesignationType', $('#IDesignationType').val());
                    formdata.append('Description', $('#IAppDescription').val());
                    formdata.append('ParisData', $('#IappoParish').val());
                    formdata.append('Diocese', $('#IappoDiocese').val());
                    formdata.append('OSProvince', $('#IappoOSPro').val());
                    formdata.append('OSCongName', $('#IappoOSCong').val());
                    formdata.append('OSCongProvince', $('#IappoCongPro').val());
                    formdata.append('SGGeneralate', $('#ISGGeneralate').val());
                    formdata.append('OptionGuid', _gId);
                    var fileUpload = $('#IApointfile_' + k).get(0);
                    var files = fileUpload.files;

                    for (var i = 0; i < files.length; i++) {
                        formdata.append(files[i].name, files[i]);
                    }

                    SaveInstutionAppointment(formdata, countrow1);
                }
            }
            return false;
        }

        function UpdateInsAppointment() {
            if ($('#ProvinceDrop1_ins').val() == "") {
                alert("Please select the Province Name");
                return false;
            }
            if ($('#persionNames_ins').val() == "") {
                alert("Please select the Primary Details");
                return false;
            }
            
            var countrow1 = $("#IformforPresentProvinceTbl tr").length - 1;
            GetPresentProvinceGuid();

            for (var k = 1; k <= PresentProvinceCnt; k++) {


                if ($('#InsDesignationType_' + k).val() != undefined) {
                    var formdata = new FormData();

                    formdata.append('FromDate', $('#IFromDateappo12').val());
                    formdata.append('ToDate', $('#IToDateappo12').val());
                    formdata.append('MemberId', $('#persionNames_ins').val());
                    formdata.append('Name', $('#persionNames_ins option:selected').text());
                    formdata.append('ProvinceName', $('#ProvinceDrop1_ins').val());
                    //formdata.append('Id', $('#AppId').val());
                    formdata.append('AppointmentType', $('#IAppointmentType').val());
                    formdata.append('InsDesignationType', $('#InsDesignationType_' + k).val());
                    formdata.append('InstitutionType', $('#InstitutionType_' + k).val());

                    //formdata.append('CommunityType', $('#ICommunityType').val());
                    //formdata.append('DesignationType', $('#IDesignationType').val());
                    formdata.append('Description', $('#IAppDescription').val());
                    formdata.append('ParisData', $('#IappoParish').val());
                    formdata.append('Diocese', $('#IappoDiocese').val());
                    formdata.append('OSProvince', $('#IappoOSPro').val());
                    formdata.append('OSCongName', $('#IappoOSCong').val());
                    formdata.append('OSCongProvince', $('#IappoCongPro').val());
                    formdata.append('SGGeneralate', $('#ISGGeneralate').val());
                    formdata.append('OptionGuid', _gId);
                    var fileUpload = $('#IApointfile_' + k).get(0);
                    var files = fileUpload.files;

                    for (var i = 0; i < files.length; i++) {
                        formdata.append(files[i].name, files[i]);
                    }                    

                    var appId = localStorage.getItem("EditingInsAppointmentId");
                    formdata.append('Id', appId);
                    //actionURL = "/EntryLife/UpdateInstutionAppointment";
                    UpdateInstutionAppointment(formdata, countrow1);
                }
            }
            return false;
        }
        var _gId = "";
        function GetPresentProvinceGuid() {
            $.ajax({
                url: "/EntryLife/GetPresentProvinceGuid",
                type: "POST",
                dataType: "json",
                async: false,
                success: function (response) {
                    _gId = response;
                    return;
                }
            });
        }
        var dosuccess1 = 0;
       
        function SaveInstutionAppointment(dataVal, countrow) {
            debugger;           
            
            $.ajax({
                url: "/EntryLife/SaveInstutionAppointment",
                type: "POST",
                processData: false,
                contentType: false,
                data: dataVal,
                success: function (response) {
                    debugger;
                    setCookie('InsActive', '1', '1'); //(key,value,expiry in days)

                    dosuccess1 = dosuccess1 + 1;
                    if (countrow == dosuccess1) {
                        $("#mymessage").html("<b>Data saved successfully !</b>");
                        $("#mymessage").css("color", "green");
                        $('#myalertbox').modal({
                            backdrop: 'static'
                        });
                        $("#myalertbox").modal("show");
                        $.cookie('iscode', null, { path: '/' })
                        $(".closemodel").on("click", function () {
                            location.reload();
                        });                        
                    }
                },
                error: function (er) {
                }
            });
        }
        
        function UpdateInstutionAppointment(dataVal, countrow) {
            debugger;

            $.ajax({
                url: "/EntryLife/UpdateInstutionAppointment",
                type: "POST",
                processData: false,
                contentType: false,
                data: dataVal,
                success: function (response) {
                    debugger;
                    setCookie('InsActive', '1', '1'); //(key,value,expiry in days)

                    dosuccess1 = dosuccess1 + 1;
                    if (countrow == dosuccess1) {
                        $("#mymessage").html("<b>Data updated successfully !</b>");
                        $("#mymessage").css("color", "green");
                        $('#myalertbox').modal({
                            backdrop: 'static'
                        });
                        $("#myalertbox").modal("show");
                        $.cookie('iscode', null, { path: '/' })
                        $(".closemodel").on("click", function () {
                            location.reload();
                        });

                        localStorage.removeItem("EditingInsAppointmentId");
                        isEdit = false;
                        $('#btnInsAppointmentSave').css('display', 'block');
                        $('#btnInsAppointmentUpdate').css('display', 'none');
                    }
                },
                error: function (er) {
                }
            });
        }

    </script>

    <script>
        $(document).ready(function () {
            DioceseNameProv();
        });
        function DioceseNameProv() {
            $.ajax({
                url: "/IdGenerate/DioceseNameProv",
                type: "GET",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (response2) {
                    if (response2.length > 0) {
                        var allDate2 = [];
                        var omObj2 = {};
                        $('#appoDiocese,#IappoDiocese').html('').select2({ data: [{ id: '', text: '' }] });
                        allDate2.push({ id: '0', text: '-- Select Diocese Name --' });
                        for (var i = 0; i < response2.length; i++) {
                            allDate2.push({ id: response2[i].Id, text: response2[i].DioceseName });
                        }
                        $("#appoDiocese,#IappoDiocese").html('').select2({
                            data: allDate2
                        });
                    }
                },
                error: function (er) {
                }
            });
        }
        function DioceseBasedParisLoadDD(action) {
            var dioId = action == "1" ? $("#appoDiocese ").val() : $("#IappoDiocese").val();
            if (dioId == "0")
                return;
            $.ajax({
                url: "/IdGenerate/DDDioceseParish",
                type: "GET",
                data: { Id: dioId },
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response2) {
                    if (response2.length > 0) {
                        var allDate2 = [];
                        var omObj2 = {};
                        $('#appoParish,#IappoParish').html('').select2({ data: [{ id: '', text: '' }] });
                        allDate2.push({ id: '0', text: '-- Select Parish Name --' });
                        for (var i = 0; i < response2.length; i++) {
                            allDate2.push({ id: response2[i].Id, text: response2[i].ParishName });
                        }
                        $("#appoParish,#IappoParish").html('').select2({
                            data: allDate2
                        });
                    }
                },
                error: function (er) {
                }
            });
        }

        //$(document).ready(function () {
        //    // $('#IAppointTbl').DataTable();
        //    //$('#AppointTbl').DataTable();
        //});
    </script>

    <script type="text/javascript">
        //setCookie('InsActive', '1', '1'); //(key,value,expiry in days)
        if (getCookie('InsActive') == "1") {
            //  $("#CommunityAppointment").removeClass("active");
            $("#InstutionAppointment").addClass("active");
            $("#InstutionAppointment1 a").click();
        }

        eraseCookie('InsActive');


        //setCookie('test', '1', '1'); //(key,value,expiry in days)
        //getCookie('test');
        //eraseCookie('test');

        function setCookie(key, value, expiry) {
            var expires = new Date();
            expires.setTime(expires.getTime() + (expiry * 24 * 60 * 60 * 1000));
            document.cookie = key + '=' + value + ';expires=' + expires.toUTCString();
        }

        function getCookie(key) {
            var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
            return keyValue ? keyValue[2] : null;
        }

        function eraseCookie(key) {
            var keyValue = getCookie(key);
            setCookie(key, keyValue, '-1');
        }
        $('#testDrp1').multipleSelect({
            width: 350,
            allSelectedText: 'All'
        });

        function LoadCommunityDDForOtherPro(province) {
            //debugger;
            OutSideProBasedLoadDD();

            var isOtherProvinceSelected = $('#RDOSPro')[0].checked;
            if (isOtherProvinceSelected) {
                $.ajax({
                    url: "/Home/GetOtherProvinceCommunity?provinceId=" + province.value,
                    type: "GET",
                    contentType: "application/json;charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        var allCommunityData = []
                        //debugger;
                        if (response.length > 0) {
                            //$('#CommunityType').html('').select2({ data: [] });
                            //allCommunityData.push('-- Select --');
                            //for (var i = 0; i < response.length; i++) {
                            //    allCommunityData.push(response[i]);
                            //}
                            $('#CommunityType111').html('').select2({ data: [{ id: '', text: '' }] });
                            allCommunityData.push('-- Select --');
                            for (var i = 0; i < response.length; i++) {
                                allCommunityData.push(response[i]);
                            }
                        }

                        $("#CommunityType111").html('').select2({
                            data: allCommunityData
                        });
                    },
                    error: function (er) {
                    }
                });
            }
        }
    </script>
}
<style>
    #ScramentDate, #DOBInTheCertificate, #DOB, #Continent, #DateComp, #DOR, #Age, #InsDate, #SeperationDate, #Date, #FileNo, #MemberId {
        color: black
    }
</style>